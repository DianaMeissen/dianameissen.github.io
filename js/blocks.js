function t121_setHeight(recid) { var rec = $('#rec' + recid); var div = $("#youtubeiframe" + recid); var height = div.width() * 0.5625; div.height(height); div.parent().height(height); var videoLazy = rec.find('.t-video-lazyload'); var iframeLazy = videoLazy.find('iframe'); if (videoLazy != undefined) { var heightLazy = videoLazy.width() * 0.5625; videoLazy.height(heightLazy); iframeLazy.height(heightLazy) } }
function t142_checkSize(recid) { var el = $("#rec" + recid).find(".t142__submit"); if (el.length) { var btnheight = el.height() + 5; var textheight = el[0].scrollHeight; if (btnheight < textheight) { var btntext = el.text(); el.addClass("t142__submit-overflowed"); el.html("<span class=\"t142__text\">" + btntext + "</span>") } } }
function t199_showMenu(recid) {
    var el = $("#rec" + recid); el.find('.t199__js__menu').each(function () { var $toggler = el.find('.t199__js__menu-toggler'), $menu = $(this), $body = $('body'), CLASS_MENU = 't199__is__menu'; $menu.find('.t199__menu-item').each(function () { var curUrl = $(this).attr('href'); if (typeof curUrl != 'undefined' && curUrl.indexOf('#') > -1 && curUrl.substring(0, 9) != '#submenu:') { $(this).on('click', function (e) { $body.removeClass(CLASS_MENU) }) } }); $toggler.on('click', function (e) { e.stopPropagation(); e.preventDefault(); $body.toggleClass(CLASS_MENU) }); $(document).on('click', function (e) { var clickedInsideMenu = ($(e.target).hasClass('t199__js__menu') || $(e.target).parents('.t199__js__menu').length > 0); if (!clickedInsideMenu) { $body.removeClass(CLASS_MENU) } }) })
    $('.t199__mmenu').bind('clickedAnchorInTooltipMenu', function () { $('body').removeClass('t199__is__menu') })
}
function t199_positionHeader(recid) {
    var el = $("#rec" + recid); var $header = el.find('.t199__js__header'), isScrolling = !1, CLASS_ACTIVE = 't199__is__active'; function updateHeader() { isScrolling = !0; if ($(window).scrollTop() > 0) $header.addClass(CLASS_ACTIVE); else $header.removeClass(CLASS_ACTIVE) }
    setInterval(function () { if (isScrolling) { isScrolling = !1 } }, 100); $(window).on('scroll', updateHeader)
    updateHeader()
}
function t199_setPath(pageid) { }
function t199_highlight(recid) {
    var url = window.location.href; var pathname = window.location.pathname; if (url.substr(url.length - 1) == "/") { url = url.slice(0, -1) }
    if (pathname.substr(pathname.length - 1) == "/") { pathname = pathname.slice(0, -1) }
    if (pathname.charAt(0) == "/") { pathname = pathname.slice(1) }
    if (pathname == "") { pathname = "/" }
    $(".t199__menu a[href='" + url + "']").addClass("t-active"); $(".t199__menu a[href='" + url + "/']").addClass("t-active"); $(".t199__menu a[href='" + pathname + "']").addClass("t-active"); $(".t199__menu a[href='/" + pathname + "']").addClass("t-active"); $(".t199__menu a[href='" + pathname + "/']").addClass("t-active"); $(".t199__menu a[href='/" + pathname + "/']").addClass("t-active")
}
function t199_checkAnchorLinks(recid) { if ($(window).width() >= 960) { var t199_navLinks = $("#rec" + recid + " .t-menu__link-item:not(.tooltipstered)[href*='#']"); if (t199_navLinks.length > 0) { t199_catchScroll(t199_navLinks) } } }
function t199_catchScroll(t199_navLinks) {
    var t199_clickedSectionId = null, t199_sections = new Array(), t199_sectionIdTonavigationLink = [], t199_interval = 100, t199_lastCall, t199_timeoutId; t199_navLinks = $(t199_navLinks.get().reverse()); t199_navLinks.each(function () {
        var t199_cursection = t199_getSectionByHref($(this)); if (typeof t199_cursection.attr("id") != "undefined") { t199_sections.push(t199_cursection) }
        t199_sectionIdTonavigationLink[t199_cursection.attr("id")] = $(this)
    }); t199_updateSectionsOffsets(t199_sections); $(window).bind('resize', t_throttle(function () { t199_updateSectionsOffsets(t199_sections) }, 200)); $('.t199').bind('displayChanged', function () { t199_updateSectionsOffsets(t199_sections) }); setInterval(function () { t199_updateSectionsOffsets(t199_sections) }, 5000); t199_highlightNavLinks(t199_navLinks, t199_sections, t199_sectionIdTonavigationLink, t199_clickedSectionId); t199_navLinks.click(function () { if (!$(this).hasClass("tooltipstered")) { t199_navLinks.removeClass('t-active'); t199_sectionIdTonavigationLink[t199_getSectionByHref($(this)).attr("id")].addClass('t-active'); t199_clickedSectionId = t199_getSectionByHref($(this)).attr("id") } }); $(window).scroll(function () { var t199_now = new Date().getTime(); if (t199_lastCall && t199_now < (t199_lastCall + t199_interval)) { clearTimeout(t199_timeoutId); t199_timeoutId = setTimeout(function () { t199_lastCall = t199_now; t199_clickedSectionId = t199_highlightNavLinks(t199_navLinks, t199_sections, t199_sectionIdTonavigationLink, t199_clickedSectionId) }, t199_interval - (t199_now - t199_lastCall)) } else { t199_lastCall = t199_now; t199_clickedSectionId = t199_highlightNavLinks(t199_navLinks, t199_sections, t199_sectionIdTonavigationLink, t199_clickedSectionId) } })
}
function t199_updateSectionsOffsets(sections) { $(sections).each(function () { var t199_curSection = $(this); t199_curSection.attr("data-offset-top", t199_curSection.offset().top) }) }
function t199_getSectionByHref(curlink) { var t199_curLinkValue = curlink.attr("href").replace(/\s+/g, ''); if (curlink.is('[href*="#rec"]')) { return $(".r[id='" + t199_curLinkValue.substring(1) + "']") } else { return $(".r[data-record-type='215']").has("a[name='" + t199_curLinkValue.substring(1) + "']") } }
function t199_highlightNavLinks(t199_navLinks, t199_sections, t199_sectionIdTonavigationLink, t199_clickedSectionId) {
    var t199_scrollPosition = $(window).scrollTop(), t199_valueToReturn = t199_clickedSectionId; if (t199_sections.length != 0 && t199_clickedSectionId == null && t199_sections[t199_sections.length - 1].attr("data-offset-top") > (t199_scrollPosition + 300)) { t199_navLinks.removeClass('t-active'); return null }
    $(t199_sections).each(function (e) {
        var t199_curSection = $(this), t199_sectionTop = t199_curSection.attr("data-offset-top"), t199_id = t199_curSection.attr('id'), t199_navLink = t199_sectionIdTonavigationLink[t199_id]; if (((t199_scrollPosition + 300) >= t199_sectionTop) || (t199_sections[0].attr("id") == t199_id && t199_scrollPosition >= $(document).height() - $(window).height())) {
            if (t199_clickedSectionId == null && !t199_navLink.hasClass('t-active')) { t199_navLinks.removeClass('t-active'); t199_navLink.addClass('t-active'); t199_valueToReturn = null } else { if (t199_clickedSectionId != null && t199_id == t199_clickedSectionId) { t199_valueToReturn = null } }
            return !1
        }
    }); return t199_valueToReturn
}
function t300_init() {
    $(".t300").each(function () {
        var $hook = $(this).attr('data-tooltip-hook'), $recid = $(this).attr('data-tooltip-id'); if ($hook !== '') {
            var $obj = $('a[href="' + $hook + '"]'); var $content = $(this).find('.t300__content').html(); if ($hook.charAt(0) == '#') { var touchDevices = !0 } else { var touchDevices = !1 }
            var position = $(this).attr('data-tooltip-position'); if (position !== '') { } else { position = 'top' }
            $obj.tooltipster({ 'theme': 't300__tooltipster-noir t300__tooltipster-noir_' + $recid + '', 'contentAsHTML': !0, 'content': $content, interactive: !0, touchDevices: touchDevices, position: position })
        }
    })
}
$(document).ready(function () { t300_init(); setTimeout(function () { t300_init() }, 500) }); function t282_showMenu(recid) {
    var el = $("#rec" + recid); el.find('.t282__burger, .t282__menu__item:not(".tooltipstered"):not(".t282__menu__item_submenu"), .t282__overlay').click(function () {
        if ($(this).is(".t282__menu__item.tooltipstered, .t794__tm-link")) { return }
        $('body').toggleClass('t282_opened'); el.find('.t282__menu__container, .t282__overlay').toggleClass('t282__closed'); el.find(".t282__menu__container").css({ 'top': (el.find(".t282__container").height() + 'px') })
    }); $('.t282').bind('clickedAnchorInTooltipMenu', function () { $('body').removeClass('t282_opened'); $('#rec' + recid + ' .t282__menu__container, #rec' + recid + ' .t282__overlay').addClass('t282__closed') }); if (el.find('.t-menusub__link-item')) { el.find('.t-menusub__link-item').on('click', function () { $('body').removeClass('t282_opened'); $('#rec' + recid + ' .t282__menu__container, #rec' + recid + ' .t282__overlay').addClass('t282__closed') }) }
}
function t282_changeSize(recid) {
    var el = $("#rec" + recid); var bottomheight = el.find(".t282__menu__container"); var headerheight = el.find(".t282__container"); var menu = bottomheight.height() + headerheight.height(); var win = $(window).height(); if (menu > win) { $("#nav" + recid).addClass('t282__menu_static') }
    else { $("#nav" + recid).removeClass('t282__menu_static') }
}
function t282_changeBgOpacityMenu(recid) { var window_width = $(window).width(); var record = $("#rec" + recid); record.find(".t282__container__bg").each(function () { var el = $(this); var bgcolor = el.attr("data-bgcolor-rgba"); var bgcolor_afterscroll = el.attr("data-bgcolor-rgba-afterscroll"); var bgopacity = el.attr("data-bgopacity"); var bgopacity_afterscroll = el.attr("data-bgopacity2"); var menu_shadow = el.attr("data-menu-shadow"); if ($(window).scrollTop() > 20) { el.css("background-color", bgcolor_afterscroll); if (bgopacity_afterscroll != "0" && bgopacity_afterscroll != "0.0") { el.css('box-shadow', menu_shadow) } else { el.css('box-shadow', 'none') } } else { el.css("background-color", bgcolor); if (bgopacity != "0" && bgopacity != "0.0") { el.css('box-shadow', menu_shadow) } else { el.css('box-shadow', 'none') } } }) }
function t282_highlight(recid) {
    var url = window.location.href; var pathname = window.location.pathname; if (url.substr(url.length - 1) == "/") { url = url.slice(0, -1) }
    if (pathname.substr(pathname.length - 1) == "/") { pathname = pathname.slice(0, -1) }
    if (pathname.charAt(0) == "/") { pathname = pathname.slice(1) }
    if (pathname == "") { pathname = "/" }
    $(".t282__menu a[href='" + url + "']").addClass("t-active"); $(".t282__menu a[href='" + url + "/']").addClass("t-active"); $(".t282__menu a[href='" + pathname + "']").addClass("t-active"); $(".t282__menu a[href='/" + pathname + "']").addClass("t-active"); $(".t282__menu a[href='" + pathname + "/']").addClass("t-active"); $(".t282__menu a[href='/" + pathname + "/']").addClass("t-active")
}
function t282_appearMenu(recid) {
    var window_width = $(window).width(); $(".t282").each(function () {
        var el = $(this); var appearoffset = el.attr("data-appearoffset"); if (appearoffset != "") {
            if (appearoffset.indexOf('vh') > -1) { appearoffset = Math.floor((window.innerHeight * (parseInt(appearoffset) / 100))) }
            appearoffset = parseInt(appearoffset, 10); if ($(window).scrollTop() >= appearoffset) { if (el.css('visibility') == 'hidden') { el.finish(); el.css("top", "-50px"); el.css("visibility", "visible"); el.animate({ "opacity": "1", "top": "0px" }, 200, function () { }) } } else { el.stop(); el.css("visibility", "hidden") }
        }
    })
}
function t354_createCookie(name, value, days) {
    if (days) { var date = new Date(); date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000)); var expires = "; expires=" + date.toGMTString() }
    else var expires = ""; document.cookie = name + "=" + value + expires + "; path=/"
}
function t354_readCookie(name) {
    var nameEQ = name + "="; var ca = document.cookie.split(';'); for (var i = 0; i < ca.length; i++) { var c = ca[i]; while (c.charAt(0) == ' ') c = c.substring(1, c.length); if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length) }
    return null
}
function t354_checkPosition(recid) {
    var el = $('#rec' + recid).find('.t354__opener'); if (!t354_isPopupRecVisible(el)) { return }
    var name = el.attr('data-cookie-name'); var time = el.attr('data-cookie-time'); var multiplier = el.attr('data-trigger-position'); var position = $(window).height() * multiplier; var value = "t354cookie"; var cookie = t354_readCookie(name); if (cookie) { $("#rec" + recid + " .t354").html("") } else if (el.length) { var scroll = $(window).scrollTop() + position; var objoffset = el.offset().top; if (scroll >= objoffset) { el.trigger('click'); $("#rec" + recid + " .t354").html(""); t354_createCookie(name, value, time) } }
}
function t354_isPopupRecVisible(el) {
    var linkText = el.attr('href'); var el_popup = $('.t-popup[data-tooltip-hook="' + linkText + '"]'); var el_popupRec = el_popup.parents('.r'); var minScreen = el_popupRec.attr('data-screen-min'); if (minScreen && minScreen !== '') { minScreen = minScreen.replace('px', ''); if (parseInt(minScreen) > $(window).width()) { return !1 } }
    return !0
}
var t386 = {}; t386.equalheight = function (recid) {
    var currentTallest = 0, currentRowStart = 0, rowDivs = new Array(), $el, topPosition = 0; $('#rec' + recid + ' .t386__textwrapper').each(function () {
        $el = $(this); $($el).height('auto')
        topPostion = $el.position().top; if (currentRowStart != topPostion) {
            for (currentDiv = 0; currentDiv < rowDivs.length; currentDiv++) { rowDivs[currentDiv].height(currentTallest) }
            rowDivs.length = 0; currentRowStart = topPostion; currentTallest = $el.height(); rowDivs.push($el)
        } else { rowDivs.push($el); currentTallest = (currentTallest < $el.height()) ? ($el.height()) : (currentTallest) }
        for (currentDiv = 0; currentDiv < rowDivs.length; currentDiv++) { rowDivs[currentDiv].height(currentTallest) }
    })
}; function t390_showPopup(recid) {
    var el = $('#rec' + recid), popup = el.find('.t-popup'); popup.css('display', 'block'); setTimeout(function () { popup.find('.t-popup__container').addClass('t-popup__container-animated'); popup.addClass('t-popup_show') }, 50); $('body').addClass('t-body_popupshowed'); el.find('.t-popup').mousedown(function (e) {
        var windowWidth = $(window).width(); var maxScrollBarWidth = 17; var windowWithoutScrollBar = windowWidth - maxScrollBarWidth; if (e.clientX > windowWithoutScrollBar) { return }
        if (e.target == this) { t390_closePopup() }
    }); el.find('.t-popup__close').click(function (e) { t390_closePopup() }); el.find('a[href*=#]').click(function (e) { var url = $(this).attr('href'); if (!url || url.substring(0, 7) != '#price:') { t390_closePopup(); if (!url || url.substring(0, 7) == '#popup:') { setTimeout(function () { $('body').addClass('t-body_popupshowed') }, 300) } } }); $(document).keydown(function (e) { if (e.keyCode == 27) { t390_closePopup() } })
}
function t390_closePopup() { $('body').removeClass('t-body_popupshowed'); $('.t-popup').removeClass('t-popup_show'); setTimeout(function () { $('.t-popup').not('.t-popup_show').css('display', 'none') }, 300) }
function t390_resizePopup(recid) { var el = $("#rec" + recid), div = el.find(".t-popup__container").height(), win = $(window).height() - 120, popup = el.find(".t-popup__container"); if (div > win) { popup.addClass('t-popup__container-static') } else { popup.removeClass('t-popup__container-static') } }
function t390_sendPopupEventToStatistics(popupname) {
    var virtPage = '/tilda/popup/'; var virtTitle = 'Popup: '; if (popupname.substring(0, 7) == '#popup:') { popupname = popupname.substring(7) }
    virtPage += popupname; virtTitle += popupname; if (window.Tilda && typeof Tilda.sendEventToStatistics == 'function') { Tilda.sendEventToStatistics(virtPage, virtTitle, '', 0) } else {
        if (ga) { if (window.mainTracker != 'tilda') { ga('send', { 'hitType': 'pageview', 'page': virtPage, 'title': virtTitle }) } }
        if (window.mainMetrika > '' && window[window.mainMetrika]) { window[window.mainMetrika].hit(virtPage, { title: virtTitle, referer: window.location.href }) }
    }
}
function t390_initPopup(recid) {
    $('#rec' + recid).attr('data-animationappear', 'off'); $('#rec' + recid).css('opacity', '1'); var el = $('#rec' + recid).find('.t-popup'), hook = el.attr('data-tooltip-hook'), analitics = el.attr('data-track-popup'); if (hook !== '') {
        $('.r').on('click', 'a[href="' + hook + '"]', function (e) {
            t390_showPopup(recid); t390_resizePopup(recid); e.preventDefault(); if (window.lazy == 'y') { t_lazyload_update() }
            if (analitics > '') {
                var virtTitle = hook; if (virtTitle.substring(0, 7) == '#popup:') { virtTitle = virtTitle.substring(7) }
                Tilda.sendEventToStatistics(analitics, virtTitle)
            }
        })
    }
}
function t396_init(recid) { var data = ''; var res = t396_detectResolution(); t396_initTNobj(); t396_switchResolution(res); t396_updateTNobj(); t396_artboard_build(data, recid); window.tn_window_width = $(window).width(); $(window).resize(function () { tn_console('>>>> t396: Window on Resize event >>>>'); t396_waitForFinalEvent(function () { if ($isMobile) { var ww = $(window).width(); if (ww != window.tn_window_width) { t396_doResize(recid) } } else { t396_doResize(recid) } }, 500, 'resizeruniqueid' + recid) }); $(window).on("orientationchange", function () { tn_console('>>>> t396: Orient change event >>>>'); t396_waitForFinalEvent(function () { t396_doResize(recid) }, 600, 'orientationuniqueid' + recid) }); $(window).load(function () { var ab = $('#rec' + recid).find('.t396__artboard'); t396_allelems__renderView(ab) }); var rec = $('#rec' + recid); if (rec.attr('data-connect-with-tab') == 'yes') { rec.find('.t396').bind('displayChanged', function () { var ab = rec.find('.t396__artboard'); t396_allelems__renderView(ab) }) } } function t396_doResize(recid) { var ww = $(window).width(); window.tn_window_width = ww; var res = t396_detectResolution(); var ab = $('#rec' + recid).find('.t396__artboard'); t396_switchResolution(res); t396_updateTNobj(); t396_ab__renderView(ab); t396_allelems__renderView(ab) } function t396_detectResolution() { var ww = $(window).width(); var res; res = 1200; if (ww < 1200) { res = 960 } if (ww < 960) { res = 640 } if (ww < 640) { res = 480 } if (ww < 480) { res = 320 } return (res) } function t396_initTNobj() { tn_console('func: initTNobj'); window.tn = {}; window.tn.canvas_min_sizes = ["320", "480", "640", "960", "1200"]; window.tn.canvas_max_sizes = ["480", "640", "960", "1200", ""]; window.tn.ab_fields = ["height", "width", "bgcolor", "bgimg", "bgattachment", "bgposition", "filteropacity", "filtercolor", "filteropacity2", "filtercolor2", "height_vh", "valign"] } function t396_updateTNobj() { tn_console('func: updateTNobj'); if (typeof window.zero_window_width_hook != 'undefined' && window.zero_window_width_hook == 'allrecords' && $('#allrecords').length) { window.tn.window_width = parseInt($('#allrecords').width()) } else { window.tn.window_width = parseInt($(window).width()) } window.tn.window_height = parseInt($(window).height()); if (window.tn.curResolution == 1200) { window.tn.canvas_min_width = 1200; window.tn.canvas_max_width = window.tn.window_width } if (window.tn.curResolution == 960) { window.tn.canvas_min_width = 960; window.tn.canvas_max_width = 1200 } if (window.tn.curResolution == 640) { window.tn.canvas_min_width = 640; window.tn.canvas_max_width = 960 } if (window.tn.curResolution == 480) { window.tn.canvas_min_width = 480; window.tn.canvas_max_width = 640 } if (window.tn.curResolution == 320) { window.tn.canvas_min_width = 320; window.tn.canvas_max_width = 480 } window.tn.grid_width = window.tn.canvas_min_width; window.tn.grid_offset_left = parseFloat((window.tn.window_width - window.tn.grid_width) / 2) } var t396_waitForFinalEvent = (function () { var timers = {}; return function (callback, ms, uniqueId) { if (!uniqueId) { uniqueId = "Don't call this twice without a uniqueId" } if (timers[uniqueId]) { clearTimeout(timers[uniqueId]) } timers[uniqueId] = setTimeout(callback, ms) } })(); function t396_switchResolution(res, resmax) { tn_console('func: switchResolution'); if (typeof resmax == 'undefined') { if (res == 1200) resmax = ''; if (res == 960) resmax = 1200; if (res == 640) resmax = 960; if (res == 480) resmax = 640; if (res == 320) resmax = 480 } window.tn.curResolution = res; window.tn.curResolution_max = resmax } function t396_artboard_build(data, recid) { tn_console('func: t396_artboard_build. Recid:' + recid); tn_console(data); var ab = $('#rec' + recid).find('.t396__artboard'); t396_ab__renderView(ab); ab.find('.tn-elem').each(function () { var item = $(this); if (item.attr('data-elem-type') == 'text') { t396_addText(ab, item) } if (item.attr('data-elem-type') == 'image') { t396_addImage(ab, item) } if (item.attr('data-elem-type') == 'shape') { t396_addShape(ab, item) } if (item.attr('data-elem-type') == 'button') { t396_addButton(ab, item) } if (item.attr('data-elem-type') == 'video') { t396_addVideo(ab, item) } if (item.attr('data-elem-type') == 'html') { t396_addHtml(ab, item) } if (item.attr('data-elem-type') == 'tooltip') { t396_addTooltip(ab, item) } if (item.attr('data-elem-type') == 'form') { t396_addForm(ab, item) } if (item.attr('data-elem-type') == 'gallery') { t396_addGallery(ab, item) } }); $('#rec' + recid).find('.t396__artboard').removeClass('rendering').addClass('rendered'); if (ab.attr('data-artboard-ovrflw') == 'visible') { $('#allrecords').css('overflow', 'hidden') } if ($isMobile) { $('#rec' + recid).append('<style>@media only screen and (min-width:1366px) and (orientation:landscape) and (-webkit-min-device-pixel-ratio:2) {.t396__carrier {background-attachment:scroll!important;}}</style>') } } function t396_ab__renderView(ab) { var fields = window.tn.ab_fields; for (var i = 0; i < fields.length; i++) { t396_ab__renderViewOneField(ab, fields[i]) } var ab_min_height = t396_ab__getFieldValue(ab, 'height'); var ab_max_height = t396_ab__getHeight(ab); var offset_top = 0; if (ab_min_height == ab_max_height) { offset_top = 0 } else { var ab_valign = t396_ab__getFieldValue(ab, 'valign'); if (ab_valign == 'top') { offset_top = 0 } else if (ab_valign == 'center') { offset_top = parseFloat((ab_max_height - ab_min_height) / 2).toFixed(1) } else if (ab_valign == 'bottom') { offset_top = parseFloat((ab_max_height - ab_min_height)).toFixed(1) } else if (ab_valign == 'stretch') { offset_top = 0; ab_min_height = ab_max_height } else { offset_top = 0 } } ab.attr('data-artboard-proxy-min-offset-top', offset_top); ab.attr('data-artboard-proxy-min-height', ab_min_height); ab.attr('data-artboard-proxy-max-height', ab_max_height) } function t396_addText(ab, el) { tn_console('func: addText'); var fields_str = 'top,left,width,container,axisx,axisy,widthunits,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el) } function t396_addImage(ab, el) { tn_console('func: addImage'); var fields_str = 'img,width,filewidth,fileheight,top,left,container,axisx,axisy,widthunits,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el); el.find('img').on("load", function () { t396_elem__renderViewOneField(el, 'top'); if (typeof $(this).attr('src') != 'undefined' && $(this).attr('src') != '') { setTimeout(function () { t396_elem__renderViewOneField(el, 'top') }, 2000) } }).each(function () { if (this.complete) $(this).load() }); el.find('img').on('tuwidget_done', function (e, file) { t396_elem__renderViewOneField(el, 'top') }) } function t396_addShape(ab, el) { tn_console('func: addShape'); var fields_str = 'width,height,top,left,'; fields_str += 'container,axisx,axisy,widthunits,heightunits,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el) } function t396_addButton(ab, el) { tn_console('func: addButton'); var fields_str = 'top,left,width,height,container,axisx,axisy,caption,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el); return (el) } function t396_addVideo(ab, el) { tn_console('func: addVideo'); var fields_str = 'width,height,top,left,'; fields_str += 'container,axisx,axisy,widthunits,heightunits,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el); var viel = el.find('.tn-atom__videoiframe'); var viatel = el.find('.tn-atom'); viatel.css('background-color', '#000'); var vihascover = viatel.attr('data-atom-video-has-cover'); if (typeof vihascover == 'undefined') { vihascover = '' } if (vihascover == 'y') { viatel.click(function () { var viifel = viel.find('iframe'); if (viifel.length) { var foo = viifel.attr('data-original'); viifel.attr('src', foo) } viatel.css('background-image', 'none'); viatel.find('.tn-atom__video-play-link').css('display', 'none') }) } var autoplay = t396_elem__getFieldValue(el, 'autoplay'); var showinfo = t396_elem__getFieldValue(el, 'showinfo'); var loop = t396_elem__getFieldValue(el, 'loop'); var mute = t396_elem__getFieldValue(el, 'mute'); var startsec = t396_elem__getFieldValue(el, 'startsec'); var endsec = t396_elem__getFieldValue(el, 'endsec'); var tmode = $('#allrecords').attr('data-tilda-mode'); var url = ''; var viyid = viel.attr('data-youtubeid'); if (typeof viyid != 'undefined' && viyid != '') { url = '//www.youtube.com/embed/'; url += viyid + '?rel=0&fmt=18&html5=1'; url += '&showinfo=' + (showinfo == 'y' ? '1' : '0'); if (loop == 'y') { url += '&loop=1&playlist=' + viyid } if (startsec > 0) { url += '&start=' + startsec } if (endsec > 0) { url += '&end=' + endsec } if (mute == 'y') { url += '&mute=1' } if (vihascover == 'y') { url += '&autoplay=1'; viel.html('<iframe id="youtubeiframe" width="100%" height="100%" data-original="' + url + '" frameborder="0" allowfullscreen data-flag-inst="y"></iframe>') } else { if (typeof tmode != 'undefined' && tmode == 'edit') { } else { if (autoplay == 'y') { url += '&autoplay=1' } } if (window.lazy == 'y') { viel.html('<iframe id="youtubeiframe" class="t-iframe" width="100%" height="100%" data-original="' + url + '" frameborder="0" allowfullscreen data-flag-inst="lazy"></iframe>'); el.append('<script>lazyload_iframe = new LazyLoad({elements_selector: ".t-iframe"});</script>') } else { viel.html('<iframe id="youtubeiframe" width="100%" height="100%" src="' + url + '" frameborder="0" allowfullscreen data-flag-inst="y"></iframe>') } } } var vivid = viel.attr('data-vimeoid'); if (typeof vivid != 'undefined' && vivid > 0) { url = '//player.vimeo.com/video/'; url += vivid + '?color=ffffff&badge=0'; if (showinfo == 'y') { url += '&title=1&byline=1&portrait=1' } else { url += '&title=0&byline=0&portrait=0' } if (loop == 'y') { url += '&loop=1' } if (mute == 'y') { url += '&muted=1' } if (vihascover == 'y') { url += '&autoplay=1'; viel.html('<iframe data-original="' + url + '" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>') } else { if (typeof tmode != 'undefined' && tmode == 'edit') { } else { if (autoplay == 'y') { url += '&autoplay=1' } } if (window.lazy == 'y') { viel.html('<iframe class="t-iframe" data-original="' + url + '" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'); el.append('<script>lazyload_iframe = new LazyLoad({elements_selector: ".t-iframe"});</script>') } else { viel.html('<iframe src="' + url + '" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>') } } } } function t396_addHtml(ab, el) { tn_console('func: addHtml'); var fields_str = 'width,height,top,left,'; fields_str += 'container,axisx,axisy,widthunits,heightunits,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el) } function t396_addTooltip(ab, el) { tn_console('func: addTooltip'); var fields_str = 'width,height,top,left,'; fields_str += 'container,axisx,axisy,widthunits,heightunits,leftunits,topunits,tipposition'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el); var pinEl = el.find('.tn-atom__pin'); var tipEl = el.find('.tn-atom__tip'); var tipopen = el.attr('data-field-tipopen-value'); if (isMobile || (typeof tipopen != 'undefined' && tipopen == 'click')) { t396_setUpTooltip_mobile(el, pinEl, tipEl) } else { t396_setUpTooltip_desktop(el, pinEl, tipEl) } setTimeout(function () { $('.tn-atom__tip-img').each(function () { var foo = $(this).attr('data-tipimg-original'); if (typeof foo != 'undefined' && foo != '') { $(this).attr('src', foo) } }) }, 3000) } function t396_addForm(ab, el) { tn_console('func: addForm'); var fields_str = 'width,top,left,'; fields_str += 'inputs,container,axisx,axisy,widthunits,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el) } function t396_addGallery(ab, el) { tn_console('func: addForm'); var fields_str = 'width,height,top,left,'; fields_str += 'imgs,container,axisx,axisy,widthunits,heightunits,leftunits,topunits'; var fields = fields_str.split(','); el.attr('data-fields', fields_str); t396_elem__renderView(el) } function t396_elem__setFieldValue(el, prop, val, flag_render, flag_updateui, res) { if (res == '') res = window.tn.curResolution; if (res < 1200 && prop != 'zindex') { el.attr('data-field-' + prop + '-res-' + res + '-value', val) } else { el.attr('data-field-' + prop + '-value', val) } if (flag_render == 'render') elem__renderViewOneField(el, prop); if (flag_updateui == 'updateui') panelSettings__updateUi(el, prop, val) } function t396_elem__getFieldValue(el, prop) { var res = window.tn.curResolution; var r; if (res < 1200) { if (res == 960) { r = el.attr('data-field-' + prop + '-res-960-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-value') } } if (res == 640) { r = el.attr('data-field-' + prop + '-res-640-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-res-960-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-value') } } } if (res == 480) { r = el.attr('data-field-' + prop + '-res-480-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-res-640-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-res-960-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-value') } } } } if (res == 320) { r = el.attr('data-field-' + prop + '-res-320-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-res-480-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-res-640-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-res-960-value'); if (typeof r == 'undefined') { r = el.attr('data-field-' + prop + '-value') } } } } } } else { r = el.attr('data-field-' + prop + '-value') } return (r) } function t396_elem__renderView(el) { tn_console('func: elem__renderView'); var fields = el.attr('data-fields'); if (!fields) { return !1 } fields = fields.split(','); for (var i = 0; i < fields.length; i++) { t396_elem__renderViewOneField(el, fields[i]) } } function t396_elem__renderViewOneField(el, field) { var value = t396_elem__getFieldValue(el, field); if (field == 'left') { value = t396_elem__convertPosition__Local__toAbsolute(el, field, value); el.css('left', parseFloat(value).toFixed(1) + 'px') } if (field == 'top') { value = t396_elem__convertPosition__Local__toAbsolute(el, field, value); el.css('top', parseFloat(value).toFixed(1) + 'px') } if (field == 'width') { value = t396_elem__getWidth(el, value); el.css('width', parseFloat(value).toFixed(1) + 'px'); var eltype = el.attr('data-elem-type'); if (eltype == 'tooltip') { var pinSvgIcon = el.find('.tn-atom__pin-icon'); if (pinSvgIcon.length > 0) { var pinSize = parseFloat(value).toFixed(1) + 'px'; pinSvgIcon.css({ 'width': pinSize, 'height': pinSize }) } el.css('height', parseInt(value).toFixed(1) + 'px') } if (eltype == 'gallery') { var borderWidth = t396_elem__getFieldValue(el, 'borderwidth'); var borderStyle = t396_elem__getFieldValue(el, 'borderstyle'); if (borderStyle == 'none' || typeof borderStyle == 'undefined' || typeof borderWidth == 'undefined' || borderWidth == '') borderWidth = 0; value = value * 1 - borderWidth * 2; el.css('width', parseFloat(value).toFixed(1) + 'px'); el.find('.t-slds__main').css('width', parseFloat(value).toFixed(1) + 'px'); el.find('.tn-atom__slds-img').css('width', parseFloat(value).toFixed(1) + 'px') } } if (field == 'height') { var eltype = el.attr('data-elem-type'); if (eltype == 'tooltip') { return } value = t396_elem__getHeight(el, value); el.css('height', parseFloat(value).toFixed(1) + 'px'); if (eltype === 'gallery') { var borderWidth = t396_elem__getFieldValue(el, 'borderwidth'); var borderStyle = t396_elem__getFieldValue(el, 'borderstyle'); if (borderStyle == 'none' || typeof borderStyle == 'undefined' || typeof borderWidth == 'undefined' || borderWidth == '') borderWidth = 0; value = value * 1 - borderWidth * 2; el.css('height', parseFloat(value).toFixed(1) + 'px'); el.find('.tn-atom__slds-img').css('height', parseFloat(value).toFixed(1) + 'px'); el.find('.t-slds__main').css('height', parseFloat(value).toFixed(1) + 'px') } } if (field == 'container') { t396_elem__renderViewOneField(el, 'left'); t396_elem__renderViewOneField(el, 'top') } if (field == 'width' || field == 'height' || field == 'fontsize' || field == 'fontfamily' || field == 'letterspacing' || field == 'fontweight' || field == 'img') { t396_elem__renderViewOneField(el, 'left'); t396_elem__renderViewOneField(el, 'top') } if (field == 'inputs') { value = el.find('.tn-atom__inputs-textarea').val(); try { t_zeroForms__renderForm(el, value) } catch (err) { } } } function t396_elem__convertPosition__Local__toAbsolute(el, field, value) { value = parseInt(value); if (field == 'left') { var el_container, offset_left, el_container_width, el_width; var container = t396_elem__getFieldValue(el, 'container'); if (container == 'grid') { el_container = 'grid'; offset_left = window.tn.grid_offset_left; el_container_width = window.tn.grid_width } else { el_container = 'window'; offset_left = 0; el_container_width = window.tn.window_width } var el_leftunits = t396_elem__getFieldValue(el, 'leftunits'); if (el_leftunits == '%') { value = t396_roundFloat(el_container_width * value / 100) } value = offset_left + value; var el_axisx = t396_elem__getFieldValue(el, 'axisx'); if (el_axisx == 'center') { el_width = t396_elem__getWidth(el); value = el_container_width / 2 - el_width / 2 + value } if (el_axisx == 'right') { el_width = t396_elem__getWidth(el); value = el_container_width - el_width + value } } if (field == 'top') { var ab = el.parent(); var el_container, offset_top, el_container_height, el_height; var container = t396_elem__getFieldValue(el, 'container'); if (container == 'grid') { el_container = 'grid'; offset_top = parseFloat(ab.attr('data-artboard-proxy-min-offset-top')); el_container_height = parseFloat(ab.attr('data-artboard-proxy-min-height')) } else { el_container = 'window'; offset_top = 0; el_container_height = parseFloat(ab.attr('data-artboard-proxy-max-height')) } var el_topunits = t396_elem__getFieldValue(el, 'topunits'); if (el_topunits == '%') { value = (el_container_height * (value / 100)) } value = offset_top + value; var el_axisy = t396_elem__getFieldValue(el, 'axisy'); if (el_axisy == 'center') { el_height = t396_elem__getHeight(el); value = el_container_height / 2 - el_height / 2 + value } if (el_axisy == 'bottom') { el_height = t396_elem__getHeight(el); value = el_container_height - el_height + value } } return (value) } function t396_ab__setFieldValue(ab, prop, val, res) { if (res == '') res = window.tn.curResolution; if (res < 1200) { ab.attr('data-artboard-' + prop + '-res-' + res, val) } else { ab.attr('data-artboard-' + prop, val) } } function t396_ab__getFieldValue(ab, prop) { var res = window.tn.curResolution; var r; if (res < 1200) { if (res == 960) { r = ab.attr('data-artboard-' + prop + '-res-960'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '') } } if (res == 640) { r = ab.attr('data-artboard-' + prop + '-res-640'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '-res-960'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '') } } } if (res == 480) { r = ab.attr('data-artboard-' + prop + '-res-480'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '-res-640'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '-res-960'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '') } } } } if (res == 320) { r = ab.attr('data-artboard-' + prop + '-res-320'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '-res-480'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '-res-640'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '-res-960'); if (typeof r == 'undefined') { r = ab.attr('data-artboard-' + prop + '') } } } } } } else { r = ab.attr('data-artboard-' + prop) } return (r) } function t396_ab__renderViewOneField(ab, field) { var value = t396_ab__getFieldValue(ab, field) } function t396_allelems__renderView(ab) { tn_console('func: allelems__renderView: abid:' + ab.attr('data-artboard-recid')); ab.find(".tn-elem").each(function () { t396_elem__renderView($(this)) }) } function t396_ab__filterUpdate(ab) { var filter = ab.find('.t396__filter'); var c1 = filter.attr('data-filtercolor-rgb'); var c2 = filter.attr('data-filtercolor2-rgb'); var o1 = filter.attr('data-filteropacity'); var o2 = filter.attr('data-filteropacity2'); if ((typeof c2 == 'undefined' || c2 == '') && (typeof c1 != 'undefined' && c1 != '')) { filter.css("background-color", "rgba(" + c1 + "," + o1 + ")") } else if ((typeof c1 == 'undefined' || c1 == '') && (typeof c2 != 'undefined' && c2 != '')) { filter.css("background-color", "rgba(" + c2 + "," + o2 + ")") } else if (typeof c1 != 'undefined' && typeof c2 != 'undefined' && c1 != '' && c2 != '') { filter.css({ background: "-webkit-gradient(linear, left top, left bottom, from(rgba(" + c1 + "," + o1 + ")), to(rgba(" + c2 + "," + o2 + ")) )" }) } else { filter.css("background-color", 'transparent') } } function t396_ab__getHeight(ab, ab_height) { if (typeof ab_height == 'undefined') ab_height = t396_ab__getFieldValue(ab, 'height'); ab_height = parseFloat(ab_height); var ab_height_vh = t396_ab__getFieldValue(ab, 'height_vh'); if (ab_height_vh != '') { ab_height_vh = parseFloat(ab_height_vh); if (isNaN(ab_height_vh) === !1) { var ab_height_vh_px = parseFloat(window.tn.window_height * parseFloat(ab_height_vh / 100)); if (ab_height < ab_height_vh_px) { ab_height = ab_height_vh_px } } } return (ab_height) } function t396_hex2rgb(hexStr) { var hex = parseInt(hexStr.substring(1), 16); var r = (hex & 0xff0000) >> 16; var g = (hex & 0x00ff00) >> 8; var b = hex & 0x0000ff; return [r, g, b] } String.prototype.t396_replaceAll = function (search, replacement) { var target = this; return target.replace(new RegExp(search, 'g'), replacement) }; function t396_elem__getWidth(el, value) { if (typeof value == 'undefined') value = parseFloat(t396_elem__getFieldValue(el, 'width')); var el_widthunits = t396_elem__getFieldValue(el, 'widthunits'); if (el_widthunits == '%') { var el_container = t396_elem__getFieldValue(el, 'container'); if (el_container == 'window') { value = parseFloat(window.tn.window_width * parseFloat(parseInt(value) / 100)) } else { value = parseFloat(window.tn.grid_width * parseFloat(parseInt(value) / 100)) } } return (value) } function t396_elem__getHeight(el, value) { if (typeof value == 'undefined') value = t396_elem__getFieldValue(el, 'height'); value = parseFloat(value); if (el.attr('data-elem-type') == 'shape' || el.attr('data-elem-type') == 'video' || el.attr('data-elem-type') == 'html' || el.attr('data-elem-type') == 'gallery') { var el_heightunits = t396_elem__getFieldValue(el, 'heightunits'); if (el_heightunits == '%') { var ab = el.parent(); var ab_min_height = parseFloat(ab.attr('data-artboard-proxy-min-height')); var ab_max_height = parseFloat(ab.attr('data-artboard-proxy-max-height')); var el_container = t396_elem__getFieldValue(el, 'container'); if (el_container == 'window') { value = parseFloat(ab_max_height * parseFloat(value / 100)) } else { value = parseFloat(ab_min_height * parseFloat(value / 100)) } } } else if (el.attr('data-elem-type') == 'button') { value = value } else { value = parseFloat(el.innerHeight()) } return (value) } function t396_roundFloat(n) { n = Math.round(n * 100) / 100; return (n) } function tn_console(str) { if (window.tn_comments == 1) console.log(str) } function t396_setUpTooltip_desktop(el, pinEl, tipEl) { var timer; pinEl.mouseover(function () { $('.tn-atom__tip_visible').each(function () { var thisTipEl = $(this).parents('.t396__elem'); if (thisTipEl.attr('data-elem-id') != el.attr('data-elem-id')) { t396_hideTooltip(thisTipEl, $(this)) } }); clearTimeout(timer); if (tipEl.css('display') == 'block') { return } t396_showTooltip(el, tipEl) }); pinEl.mouseout(function () { timer = setTimeout(function () { t396_hideTooltip(el, tipEl) }, 300) }) } function t396_setUpTooltip_mobile(el, pinEl, tipEl) { pinEl.on('click', function (e) { if (tipEl.css('display') == 'block' && $(e.target).hasClass("tn-atom__pin")) { t396_hideTooltip(el, tipEl) } else { t396_showTooltip(el, tipEl) } }); var id = el.attr("data-elem-id"); $(document).click(function (e) { var isInsideTooltip = ($(e.target).hasClass("tn-atom__pin") || $(e.target).parents(".tn-atom__pin").length > 0); if (isInsideTooltip) { var clickedPinId = $(e.target).parents(".t396__elem").attr("data-elem-id"); if (clickedPinId == id) { return } } t396_hideTooltip(el, tipEl) }) } function t396_hideTooltip(el, tipEl) { tipEl.css('display', ''); tipEl.css({ "left": "", "transform": "", "right": "" }); tipEl.removeClass('tn-atom__tip_visible'); el.css('z-index', '') } function t396_showTooltip(el, tipEl) { var pos = el.attr("data-field-tipposition-value"); if (typeof pos == 'undefined' || pos == '') { pos = 'top' }; var elSize = el.height(); var elTop = el.offset().top; var elBottom = elTop + elSize; var elLeft = el.offset().left; var elRight = el.offset().left + elSize; var winTop = $(window).scrollTop(); var winWidth = $(window).width(); var winBottom = winTop + $(window).height(); var tipElHeight = tipEl.outerHeight(); var tipElWidth = tipEl.outerWidth(); var padd = 15; if (pos == 'right' || pos == 'left') { var tipElRight = elRight + padd + tipElWidth; var tipElLeft = elLeft - padd - tipElWidth; if ((pos == 'right' && tipElRight > winWidth) || (pos == 'left' && tipElLeft < 0)) { pos = 'top' } } if (pos == 'top' || pos == 'bottom') { var tipElRight = elRight + (tipElWidth / 2 - elSize / 2); var tipElLeft = elLeft - (tipElWidth / 2 - elSize / 2); if (tipElRight > winWidth) { var rightOffset = -(winWidth - elRight - padd); tipEl.css({ "left": "auto", "transform": "none", "right": rightOffset + "px" }) } if (tipElLeft < 0) { var leftOffset = -(elLeft - padd); tipEl.css({ "left": leftOffset + "px", "transform": "none" }) } } if (pos == 'top') { var tipElTop = elTop - padd - tipElHeight; if (winTop > tipElTop) { pos = 'bottom' } } if (pos == 'bottom') { var tipElBottom = elBottom + padd + tipElHeight; if (winBottom < tipElBottom) { pos = 'top' } } tipEl.attr('data-tip-pos', pos); tipEl.css('display', 'block'); tipEl.addClass('tn-atom__tip_visible'); el.css('z-index', '1000') } function t396_hex2rgba(hexStr, opacity) { var hex = parseInt(hexStr.substring(1), 16); var r = (hex & 0xff0000) >> 16; var g = (hex & 0x00ff00) >> 8; var b = hex & 0x0000ff; return [r, g, b, parseFloat(opacity)] }
function t412_init(recid) { var rec = $('#rec' + recid); if (rec.find('a[href^="#order"]')) { rec.find('a[href^="#order"]').on('click', function (e) { var $linkelem = $(this); var $jspaybox = $('.js-payment-systembox'); t412_setCoordinateToPaymentBox(e, $linkelem, $jspaybox); $jspaybox.css('margin-top', '0'); $jspaybox.css('margin-left', '0'); $(window).resize(function () { if ($jspaybox.css('display') == 'block' && $linkelem) { t412_setCoordinateToPaymentBox(e, $linkelem, $jspaybox) } }) }) } }
function t412_setCoordinateToPaymentBox(event, $linkelem, $jspaybox) { var oldTopCoord = 0; var newTopCoord = 0; var offset = $linkelem.offset(); var top = offset.top + $linkelem.parents('.t412__col').height() - $jspaybox.height(); var left = offset.left + $linkelem.parents('.t412__col').width() / 2 - $jspaybox.width() / 2; oldTopCoord = $jspaybox.css('top'); $jspaybox.css('top', top + 'px'); $jspaybox.css('left', left + 'px'); newTopCoord = $jspaybox.css('top'); if (parseInt(oldTopCoord) - parseInt(newTopCoord) == 21) { $jspaybox.css('top', (top + 21) + 'px') } }
function t412_unifyHeights(recid) { var el = $("#rec" + recid); el.find('.t412__descr').css('height', "auto"); $('#rec' + recid + ' .t412 .t-container').each(function () { var highestBox2 = 0; $('.t412__descr', this).each(function () { if ($(this).height() > highestBox2) highestBox2 = $(this).height() }); if ($(window).width() >= 960 && $(this).is(':visible')) { $('.t412__descr', this).css('height', highestBox2) } else { $('.t412__descr', this).css('height', "auto") } }); el.find('.t412__title').css('height', "auto"); $('#rec' + recid + ' .t412 .t-container').each(function () { var highestBox3 = 0; $('.t412__title', this).each(function () { if ($(this).height() > highestBox3) highestBox3 = $(this).height() }); if ($(window).width() >= 960 && $(this).is(':visible')) { $('.t412__title', this).css('height', highestBox3) } else { $('.t412__title', this).css('height', "auto") } }); el.find('.t412__wrapper').css('height', "auto"); $('#rec' + recid + ' .t412 .t-container').each(function () { var highestBox = 0; $('.t412__wrapper', this).each(function () { if ($(this).height() > highestBox) highestBox = $(this).height() }); if ($(window).width() >= 960 && $(this).is(':visible')) { $('.t412__wrapper', this).css('height', highestBox) } else { $('.t412__wrapper', this).css('height', "auto") } }) }
t422_setHeight = function (recid) { if ($(window).width() > 960) { t422_checkEqualHeight(recid) } else { $('#rec' + recid + ' .t422__img-mobile').height(200); $('#rec' + recid + ' .t422__text').height('auto') } }; t422_checkEqualHeight = function (recid) {
    var t422__txtel = $('#rec' + recid + ' .t422__text'); var t422__imgel = $('#rec' + recid + ' .t422__img'); var t422__textwrapperel = $('#rec' + recid + ' .t422__textwrapper'); var t422__borderwidth = 0; if (t422__txtel.css("border-top-width") && t422__txtel.css("border-top-width")[1] != 'p') { t422__borderwidth = +(t422__txtel.css("border-top-width")[0] + t422__txtel.css('border-top-width')[1]) } else {
        if (t422__txtel.css("border-top-width"))
            t422__borderwidth = +(t422__txtel.css("border-top-width")[0])
    }
    if (t422__imgel.height() < (t422__textwrapperel.outerHeight() + t422__borderwidth * 2)) { t422__imgel.height(t422__textwrapperel.outerHeight() + t422__borderwidth * 2) } else { if ((t422__imgel.height() - t422__borderwidth * 2) > t422__textwrapperel.outerHeight()) { t422__textwrapperel.outerHeight(t422__imgel.height() - t422__borderwidth * 2) } }
}; function t456_setListMagin(recid, imglogo) { if ($(window).width() > 980) { var t456__menu = $('#rec' + recid + ' .t456'); var t456__leftpart = t456__menu.find('.t456__leftwrapper'); var t456__listpart = t456__menu.find('.t456__list'); if (imglogo) { t456__listpart.css("margin-right", t456__leftpart.width()) } else { t456__listpart.css("margin-right", t456__leftpart.width() + 30) } } }
function t456_highlight() {
    var url = window.location.href; var pathname = window.location.pathname; if (url.substr(url.length - 1) == "/") { url = url.slice(0, -1) }
    if (pathname.substr(pathname.length - 1) == "/") { pathname = pathname.slice(0, -1) }
    if (pathname.charAt(0) == "/") { pathname = pathname.slice(1) }
    if (pathname == "") { pathname = "/" }
    $(".t456__list_item a[href='" + url + "']").addClass("t-active"); $(".t456__list_item a[href='" + url + "/']").addClass("t-active"); $(".t456__list_item a[href='" + pathname + "']").addClass("t-active"); $(".t456__list_item a[href='/" + pathname + "']").addClass("t-active"); $(".t456__list_item a[href='" + pathname + "/']").addClass("t-active"); $(".t456__list_item a[href='/" + pathname + "/']").addClass("t-active")
}
function t456_checkAnchorLinks(recid) { if ($(window).width() >= 960) { var t456_navLinks = $("#rec" + recid + " .t456__list_item a:not(.tooltipstered)[href*='#']"); if (t456_navLinks.length > 0) { t456_catchScroll(t456_navLinks) } } }
function t456_catchScroll(t456_navLinks) {
    var t456_clickedSectionId = null, t456_sections = new Array(), t456_sectionIdTonavigationLink = [], t456_interval = 100, t456_lastCall, t456_timeoutId; t456_navLinks = $(t456_navLinks.get().reverse()); t456_navLinks.each(function () {
        var t456_cursection = t456_getSectionByHref($(this)); if (typeof t456_cursection.attr("id") != "undefined") { t456_sections.push(t456_cursection) }
        t456_sectionIdTonavigationLink[t456_cursection.attr("id")] = $(this)
    }); $(window).bind('resize', t_throttle(function () { t456_updateSectionsOffsets(t456_sections) }, 200)); $('.t456').bind('displayChanged', function () { t456_updateSectionsOffsets(t456_sections) }); setInterval(function () { t456_updateSectionsOffsets(t456_sections) }, 5000); setTimeout(function () { t456_updateSectionsOffsets(t456_sections); t456_highlightNavLinks(t456_navLinks, t456_sections, t456_sectionIdTonavigationLink, t456_clickedSectionId) }, 1000); t456_navLinks.click(function () { if (!$(this).hasClass("tooltipstered")) { t456_navLinks.removeClass('t-active'); t456_sectionIdTonavigationLink[t456_getSectionByHref($(this)).attr("id")].addClass('t-active'); t456_clickedSectionId = t456_getSectionByHref($(this)).attr("id") } }); $(window).scroll(function () { var t456_now = new Date().getTime(); if (t456_lastCall && t456_now < (t456_lastCall + t456_interval)) { clearTimeout(t456_timeoutId); t456_timeoutId = setTimeout(function () { t456_lastCall = t456_now; t456_clickedSectionId = t456_highlightNavLinks(t456_navLinks, t456_sections, t456_sectionIdTonavigationLink, t456_clickedSectionId) }, t456_interval - (t456_now - t456_lastCall)) } else { t456_lastCall = t456_now; t456_clickedSectionId = t456_highlightNavLinks(t456_navLinks, t456_sections, t456_sectionIdTonavigationLink, t456_clickedSectionId) } })
}
function t456_updateSectionsOffsets(sections) { $(sections).each(function () { var t456_curSection = $(this); t456_curSection.attr("data-offset-top", t456_curSection.offset().top) }) }
function t456_getSectionByHref(curlink) { var t456_curLinkValue = curlink.attr("href").replace(/\s+/g, ''); if (curlink.is('[href*="#rec"]')) { return $(".r[id='" + t456_curLinkValue.substring(1) + "']") } else { return $(".r[data-record-type='215']").has("a[name='" + t456_curLinkValue.substring(1) + "']") } }
function t456_highlightNavLinks(t456_navLinks, t456_sections, t456_sectionIdTonavigationLink, t456_clickedSectionId) {
    var t456_scrollPosition = $(window).scrollTop(), t456_valueToReturn = t456_clickedSectionId; if (t456_sections.length != 0 && t456_clickedSectionId == null && t456_sections[t456_sections.length - 1].attr("data-offset-top") > (t456_scrollPosition + 300)) { t456_navLinks.removeClass('t-active'); return null }
    $(t456_sections).each(function (e) {
        var t456_curSection = $(this), t456_sectionTop = t456_curSection.attr("data-offset-top"), t456_id = t456_curSection.attr('id'), t456_navLink = t456_sectionIdTonavigationLink[t456_id]; if (((t456_scrollPosition + 300) >= t456_sectionTop) || (t456_sections[0].attr("id") == t456_id && t456_scrollPosition >= $(document).height() - $(window).height())) {
            if (t456_clickedSectionId == null && !t456_navLink.hasClass('t-active')) { t456_navLinks.removeClass('t-active'); t456_navLink.addClass('t-active'); t456_valueToReturn = null } else { if (t456_clickedSectionId != null && t456_id == t456_clickedSectionId) { t456_valueToReturn = null } }
            return !1
        }
    }); return t456_valueToReturn
}
function t456_setPath() { }
function t456_setBg(recid) { var window_width = $(window).width(); if (window_width > 980) { $(".t456").each(function () { var el = $(this); if (el.attr('data-bgcolor-setbyscript') == "yes") { var bgcolor = el.attr("data-bgcolor-rgba"); el.css("background-color", bgcolor) } }) } else { $(".t456").each(function () { var el = $(this); var bgcolor = el.attr("data-bgcolor-hex"); el.css("background-color", bgcolor); el.attr("data-bgcolor-setbyscript", "yes") }) } }
function t456_appearMenu(recid) {
    var window_width = $(window).width(); if (window_width > 980) {
        $(".t456").each(function () {
            var el = $(this); var appearoffset = el.attr("data-appearoffset"); if (appearoffset != "") {
                if (appearoffset.indexOf('vh') > -1) { appearoffset = Math.floor((window.innerHeight * (parseInt(appearoffset) / 100))) }
                appearoffset = parseInt(appearoffset, 10); if ($(window).scrollTop() >= appearoffset) { if (el.css('visibility') == 'hidden') { el.finish(); el.css("top", "-50px"); el.css("visibility", "visible"); el.animate({ "opacity": "1", "top": "0px" }, 200, function () { }) } } else { el.stop(); el.css("visibility", "hidden") }
            }
        })
    }
}
function t456_changebgopacitymenu(recid) {
    var window_width = $(window).width(); if (window_width > 980) {
        $(".t456").each(function () {
            var el = $(this); var bgcolor = el.attr("data-bgcolor-rgba"); var bgcolor_afterscroll = el.attr("data-bgcolor-rgba-afterscroll"); var bgopacityone = el.attr("data-bgopacity"); var bgopacitytwo = el.attr("data-bgopacity-two"); var menushadow = el.attr("data-menushadow"); if (menushadow == '100') { var menushadowvalue = menushadow } else { var menushadowvalue = '0.' + menushadow }
            if ($(window).scrollTop() > 20) { el.css("background-color", bgcolor_afterscroll); if (bgopacitytwo == '0' || menushadow == ' ') { el.css("box-shadow", "none") } else { el.css("box-shadow", "0px 1px 3px rgba(0,0,0," + menushadowvalue + ")") } } else { el.css("background-color", bgcolor); if (bgopacityone == '0.0' || menushadow == ' ') { el.css("box-shadow", "none") } else { el.css("box-shadow", "0px 1px 3px rgba(0,0,0," + menushadowvalue + ")") } }
        })
    }
}
function t456_createMobileMenu(recid) { var window_width = $(window).width(), el = $("#rec" + recid), menu = el.find(".t456"), burger = el.find(".t456__mobile"); burger.click(function (e) { menu.fadeToggle(300); $(this).toggleClass("t456_opened") }); $(window).bind('resize', t_throttle(function () { window_width = $(window).width(); if (window_width > 980) { menu.fadeIn(0) } }, 200)) }
function t478_setHeight(recid) { var el = $('#rec' + recid); var sizer = el.find('.t478__sizer'); var height = sizer.height(); var width = sizer.width(); var ratio = width / height; var imgwrapper = el.find(".t478__blockimg, .t478__textwrapper"); var imgwidth = imgwrapper.width(); if (height != $(window).height()) { imgwrapper.css({ 'height': ((width / ratio) + 'px') }) } }
function t498_unifyHeights(recid) { $('#rec' + recid + ' .t498 .t-container').each(function () { var t498__highestBox = 0; $('.t498__col', this).each(function () { var t498__curcol = $(this); var t498__curcolchild = t498__curcol.find('.t498__col-wrapper'); if (t498__curcol.height() < t498__curcolchild.height()) t498__curcol.height(t498__curcolchild.height()); if (t498__curcol.height() > t498__highestBox) t498__highestBox = t498__curcol.height() }); if ($(window).width() >= 960) { $('.t498__col', this).css('height', t498__highestBox) } else { $('.t498__col', this).css('height', "auto") } }) }; function t504_unifyHeights(recid) { $('#rec' + recid + ' .t504 .t-container').each(function () { var t504__highestBox = 0; $('.t504__col', this).each(function () { var t504__curcol = $(this); var t504__curcolchild = t504__curcol.find('.t504__col-wrapper'); if (t504__curcol.height() < t504__curcolchild.height()) t504__curcol.height(t504__curcolchild.height()); if (t504__curcol.height() > t504__highestBox) t504__highestBox = t504__curcol.height() }); if ($(window).width() >= 960) { $('.t504__col', this).css('height', t504__highestBox) } else { $('.t504__col', this).css('height', "auto") } }) }; function t527_setHeight(recid) { var t527__el = $("#rec" + recid), t527__image = t527__el.find(".t527__bgimg:first"), t527__width = t527__image.attr("data-image-width"), t527__height = t527__image.attr("data-image-height"), t527__ratio = t527__height / t527__width, t527__padding = t527__ratio * 100; $("#rec" + recid + " .t527__bgimg").css("padding-bottom", t527__padding + "%") }
function t531_setHeight(recid) { var t531__el = $("#rec" + recid), t531__image = t531__el.find(".t531__blockimg"), t531__width = t531__image.attr("data-image-width"), t531__height = t531__image.attr("data-image-height"), t531__ratio = t531__height / t531__width, t531__padding = t531__ratio * 100; $("#rec" + recid + " .t531__blockimg").css("padding-bottom", t531__padding + "%"); if ($(window).width() > 480) { var t531__textwr = t531__el.find(".t531__textwrapper"); var t531__deskimg = t531__el.find(".t531__imgwrapper"); t531__textwr.each(function () { $(this).css("height", t531__deskimg.innerHeight()) }) } }
function t533_equalHeight(recid) { var el = $('#rec' + recid); el.find('.t533').css('visibility', 'visible'); el.find('.t533__textwrapper').css('height', 'auto'); $('#rec' + recid + ' .t533__row').each(function () { var highestBox = 0; $('.t533__textwrapper', this).each(function () { if ($(this).height() > highestBox) highestBox = $(this).height() }); if ($(window).width() >= 960 && $(this).is(':visible')) { $('.t533__textwrapper', this).css('height', highestBox) } else { $('.t533__textwrapper', this).css('height', "auto") } }) }; function t545_setHeight(recid) {
    var el = $('#rec' + recid); var t545_height = el.find('.t-container').attr("data-height"); el.find('.t-container').each(function () {
        var highestBox = 0; $('.t545__col', this).each(function () { if ($(this).height() > highestBox) { highestBox = $(this).height() } }); if (t545_height > highestBox) { highestBox = t545_height }
        $('.t545__textwrapper', this).css('height', highestBox); $('.t545__blockimg', this).css('height', highestBox)
    })
}
function t585_init(recid) { var el = $('#rec' + recid), toggler = el.find(".t585__header"); toggler.click(function () { $(this).toggleClass("t585__opened"); $(this).next().slideToggle(); if (window.lazy == 'y') { t_lazyload_update() } }) }
function t592_init(recid) { var element = $('#rec' + recid).find('.t592__descr'); var highestBox = 0; element.css('height', ''); element.each(function () { if ($(this).height() > highestBox) highestBox = $(this).height() }); if ($(window).width() >= 960) { element.css('height', highestBox) } else { element.css('height', '') } }; function t599_init(recid) {
    var el = $('#rec' + recid); if (el.find('.t599__title').length) { t599_equalHeight(el.find('.t599__title')) }
    if (el.find('.t599__descr').length) { t599_equalHeight(el.find('.t599__descr')) }
    if (el.find('.t599__price').length) { t599_equalHeight(el.find('.t599__price')) }
    if (el.find('.t599__subtitle').length) { t599_equalHeight(el.find('.t599__subtitle')) }
}; function t599_equalHeight(element) { var highestBox = 0; element.css('height', ''); element.each(function () { if ($(this).height() > highestBox) highestBox = $(this).height() }); if ($(window).width() >= 960) { element.css('height', highestBox) } else { element.css('height', '') } }
function t602_init(recid) { var t602_lastCall, t602_timeoutId, t602_interval = 100; $(window).scroll(function () { var t602_now = new Date().getTime(); if (t602_lastCall && t602_now < (t602_lastCall + t602_interval)) { clearTimeout(t602_timeoutId); t602_timeoutId = setTimeout(function () { t602_lastCall = t602_now; t602_setProgressBarWidth(recid) }, t602_interval - (t602_now - t602_lastCall)) } else { t602_lastCall = t602_now; t602_setProgressBarWidth(recid) } }) }
function t602_setProgressBarWidth(recid) { var t602_windowScrollTop = $(window).scrollTop(), t602_docHeight = $(document).height(), t602_winHeight = $(window).height(); t602_scrollPercent = (t602_windowScrollTop / (t602_docHeight - t602_winHeight)) * 100; $(".t602__indicator").css('width', t602_scrollPercent + '%') }
function t609_setHeight(recid) { var el = $("#rec" + recid); var image = el.find(".t609__bgimg"); image.each(function () { var width = $(this).attr("data-image-width"); var height = $(this).attr("data-image-height"); var ratio = height / width; var padding = ratio * 100; $(this).css("padding-bottom", padding + "%") }) }
function t609_init(recid) { var el = $('#rec' + recid), element = el.find('.t609__descr'), highestBox = 0; element.css('height', ''); element.each(function () { if ($(this).height() > highestBox) highestBox = $(this).height() }); if ($(window).width() >= 960) { element.css('height', highestBox) } else { element.css('height', '') } }
function t668_init(recid) { var el = $('#rec' + recid), toggler = el.find(".t668__header"); toggler.click(function () { $(this).toggleClass("t668__opened"); $(this).next().slideToggle(); if (window.lazy == 'y') { t_lazyload_update() } }) }
function t678_onSuccess(t678_form) {
    var t678_inputsWrapper = t678_form.find('.t-form__inputsbox'); var t678_inputsHeight = t678_inputsWrapper.height(); var t678_inputsOffset = t678_inputsWrapper.offset().top; var t678_inputsBottom = t678_inputsHeight + t678_inputsOffset; var t678_targetOffset = t678_form.find('.t-form__successbox').offset().top; if ($(window).width() > 960) { var t678_target = t678_targetOffset - 200 } else { var t678_target = t678_targetOffset - 100 }
    if (t678_targetOffset > $(window).scrollTop() || ($(document).height() - t678_inputsBottom) < ($(window).height() - 100)) { t678_inputsWrapper.addClass('t678__inputsbox_hidden'); setTimeout(function () { if ($(window).height() > $('.t-body').height()) { $('.t-tildalabel').animate({ opacity: 0 }, 50) } }, 300) } else { $('html, body').animate({ scrollTop: t678_target }, 400); setTimeout(function () { t678_inputsWrapper.addClass('t678__inputsbox_hidden') }, 400) }
    var successurl = t678_form.data('success-url'); if (successurl && successurl.length > 0) { setTimeout(function () { window.location.href = successurl }, 500) }
}
function t688_unifyHeights(recid) { if ($(window).width() >= 960) { $('#rec' + recid + ' .t688 .t-container .t688__row').each(function () { var t688_highestBox = 0, t688_currow = $(this); $(':not(.t688__featured) .t688__inner-col', this).each(function () { var t688_curCol = $(this), t688_curText = t688_curCol.find(".t688__textwrapper_inner"), t688_curColHeight = t688_curText.outerHeight(); if (t688_curColHeight > t688_highestBox) { t688_highestBox = t688_curColHeight } }); $('.t688__textwrapper', this).css('height', t688_highestBox); $('.t688__featured', this).css('height', $('.t688__col', this).height() + 'px') }) } else { $('.t688__textwrapper').css('height', 'auto'); $("#rec" + recid).find(".t688__featured").css({ 'height': ($("#rec" + recid).find(".t688__col").height() + 'px') }) } }
function t690_onSuccess(t690_form) {
    var t690_inputsWrapper = t690_form.find('.t-form__inputsbox'); var t690_inputsHeight = t690_inputsWrapper.height(); var t690_inputsOffset = t690_inputsWrapper.offset().top; var t690_inputsBottom = t690_inputsHeight + t690_inputsOffset; var t690_targetOffset = t690_form.find('.t-form__successbox').offset().top; if ($(window).width() > 960) { var t690_target = t690_targetOffset - 200 } else { var t690_target = t690_targetOffset - 100 }
    if (t690_targetOffset > $(window).scrollTop() || ($(document).height() - t690_inputsBottom) < ($(window).height() - 100)) { t690_inputsWrapper.addClass('t690__inputsbox_hidden'); setTimeout(function () { if ($(window).height() > $('.t-body').height()) { $('.t-tildalabel').animate({ opacity: 0 }, 50) } }, 300) } else { $('html, body').animate({ scrollTop: t690_target }, 400); setTimeout(function () { t690_inputsWrapper.addClass('t690__inputsbox_hidden') }, 400) }
    var successurl = t690_form.data('success-url'); if (successurl && successurl.length > 0) { setTimeout(function () { window.location.href = successurl }, 500) }
}
function t694_init(recid) { t694_setHeight(recid); var t694__doResize; $(window).resize(function () { clearTimeout(t694__doResize); t694__doResize = setTimeout(function () { t694_setHeight(recid) }, 200) }) }
function t694_setHeight(recid) {
    var t694_el = $('#rec' + recid + ' .t694'), t694_ratio = t694_el.attr('data-tile-ratio'), t694_ratioHeight = t694_el.find('.t694__col').width() * t694_ratio; if ($(window).width() >= 768) {
        t694_el.find('.t694__row').each(function () {
            var t694_largestHeight = 0, t694_currow = $(this); $('.t694__table', this).each(function () {
                var t694_curCol = $(this), t694_curColHeight = t694_curCol.find(".t694__textwrapper").outerHeight(); if ($(this).find(".t694__cell").hasClass("t694__button-bottom")) { t694_curColHeight += t694_curCol.find(".t694__button-container").outerHeight() }
                if (t694_curColHeight > t694_largestHeight) { t694_largestHeight = t694_curColHeight }
            }); if (t694_largestHeight > t694_ratioHeight) { $('.t694__table', this).css('height', t694_largestHeight) } else { if ($('.t694__table', this).css('height') != '') { $('.t694__table', this).css('height', '') } }
        })
    } else { t694_el.find('.t694__table').css('height', '') }
}
function t698_fixcontentheight(id) {
    var el = $("#rec" + id); var hcover = el.find(".t-cover").height(); var hcontent = el.find("div[data-hook-content]").outerHeight(); if (hcontent > 300 && hcover < hcontent) {
        var hcontent = hcontent + 120; if (hcontent > 1000) { hcontent += 100 }
        console.log('auto correct cover height: ' + hcontent); el.find(".t-cover").height(hcontent); el.find(".t-cover__filter").height(hcontent); el.find(".t-cover__carrier").height(hcontent); el.find(".t-cover__wrapper").height(hcontent); if ($isMobile == !1) { setTimeout(function () { var divvideo = el.find(".t-cover__carrier"); if (divvideo.find('iframe').length > 0) { console.log('correct video from cover_fixcontentheight'); setWidthHeightYoutubeVideo(divvideo, hcontent + 'px') } }, 2000) }
    }
}
function t698_onSuccess(t698_form) {
    var t698_inputsWrapper = t698_form.find('.t-form__inputsbox'); var t698_inputsHeight = t698_inputsWrapper.height(); var t698_inputsOffset = t698_inputsWrapper.offset().top; var t698_inputsBottom = t698_inputsHeight + t698_inputsOffset; var t698_targetOffset = t698_form.find('.t-form__successbox').offset().top; if ($(window).width() > 960) { var t698_target = t698_targetOffset - 200 } else { var t698_target = t698_targetOffset - 100 }
    if (t698_targetOffset > $(window).scrollTop() || ($(document).height() - t698_inputsBottom) < ($(window).height() - 100)) { t698_inputsWrapper.addClass('t698__inputsbox_hidden'); setTimeout(function () { if ($(window).height() > $('.t-body').height()) { $('.t-tildalabel').animate({ opacity: 0 }, 50) } }, 300) } else { $('html, body').animate({ scrollTop: t698_target }, 400); setTimeout(function () { t698_inputsWrapper.addClass('t698__inputsbox_hidden') }, 400) }
    var successurl = t698_form.data('success-url'); if (successurl && successurl.length > 0) { setTimeout(function () { window.location.href = successurl }, 500) }
}
function t702_onSuccess(t702_form) {
    var t702_inputsWrapper = t702_form.find('.t-form__inputsbox'); var t702_inputsHeight = t702_inputsWrapper.height(); var t702_inputsOffset = t702_inputsWrapper.offset().top; var t702_inputsBottom = t702_inputsHeight + t702_inputsOffset; var t702_targetOffset = t702_form.find('.t-form__successbox').offset().top; if ($(window).width() > 960) { var t702_target = t702_targetOffset - 200 } else { var t702_target = t702_targetOffset - 100 }
    if (t702_targetOffset > $(window).scrollTop() || ($(document).height() - t702_inputsBottom) < ($(window).height() - 100)) { t702_inputsWrapper.addClass('t702__inputsbox_hidden'); setTimeout(function () { if ($(window).height() > $('.t-body').height()) { $('.t-tildalabel').animate({ opacity: 0 }, 50) } }, 300) } else { $('html, body').animate({ scrollTop: t702_target }, 400); setTimeout(function () { t702_inputsWrapper.addClass('t702__inputsbox_hidden') }, 400) }
    var successurl = t702_form.data('success-url'); if (successurl && successurl.length > 0) { setTimeout(function () { window.location.href = successurl }, 500) }
}
function t702_lockScroll() { var body = $("body"); if (!body.hasClass('t-body_scroll-locked')) { var bodyScrollTop = (typeof window.pageYOffset !== 'undefined') ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop; body.addClass('t-body_scroll-locked'); body.css("top", "-" + bodyScrollTop + "px"); body.attr("data-popup-scrolltop", bodyScrollTop) } }
function t702_unlockScroll() {
    var body = $("body"); if (body.hasClass('t-body_scroll-locked')) {
        var bodyScrollTop = $("body").attr("data-popup-scrolltop"); body.removeClass('t-body_scroll-locked'); body.css("top", ""); body.removeAttr("data-popup-scrolltop")
        window.scrollTo(0, bodyScrollTop)
    }
}
function t702_showPopup(recid) {
    var el = $('#rec' + recid), popup = el.find('.t-popup'); popup.css('display', 'block'); el.find('.t-range').trigger('popupOpened'); if (window.lazy == 'y') { t_lazyload_update() }
    setTimeout(function () { popup.find('.t-popup__container').addClass('t-popup__container-animated'); popup.addClass('t-popup_show') }, 50); $('body').addClass('t-body_popupshowed t702__body_popupshowed'); if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream) { setTimeout(function () { t702_lockScroll() }, 500) }
    el.find('.t-popup').mousedown(function (e) {
        var windowWidth = $(window).width(); var maxScrollBarWidth = 17; var windowWithoutScrollBar = windowWidth - maxScrollBarWidth; if (e.clientX > windowWithoutScrollBar) { return }
        if (e.target == this) { t702_closePopup() }
    }); el.find('.t-popup__close').click(function (e) { t702_closePopup() }); el.find('a[href*="#"]').click(function (e) { var url = $(this).attr('href'); if (!url || url.substring(0, 7) != '#price:') { t702_closePopup(); if (!url || url.substring(0, 7) == '#popup:') { setTimeout(function () { $('body').addClass('t-body_popupshowed') }, 300) } } }); $(document).keydown(function (e) { if (e.keyCode == 27) { t702_closePopup() } })
}
function t702_closePopup() {
    $('body').removeClass('t-body_popupshowed t702__body_popupshowed'); if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && !window.MSStream) { t702_unlockScroll() }
    $('.t-popup').removeClass('t-popup_show'); setTimeout(function () { $('.t-popup').not('.t-popup_show').css('display', 'none') }, 300)
}
function t702_resizePopup(recid) { var el = $("#rec" + recid), div = el.find(".t-popup__container").height(), win = $(window).height() - 120, popup = el.find(".t-popup__container"); if (div > win) { popup.addClass('t-popup__container-static') } else { popup.removeClass('t-popup__container-static') } }
function t702_sendPopupEventToStatistics(popupname) {
    var virtPage = '/tilda/popup/'; var virtTitle = 'Popup: '; if (popupname.substring(0, 7) == '#popup:') { popupname = popupname.substring(7) }
    virtPage += popupname; virtTitle += popupname; if (window.Tilda && typeof Tilda.sendEventToStatistics == 'function') { Tilda.sendEventToStatistics(virtPage, virtTitle, '', 0) } else {
        if (ga) { if (window.mainTracker != 'tilda') { ga('send', { 'hitType': 'pageview', 'page': virtPage, 'title': virtTitle }) } }
        if (window.mainMetrika > '' && window[window.mainMetrika]) { window[window.mainMetrika].hit(virtPage, { title: virtTitle, referer: window.location.href }) }
    }
}
function t702_initPopup(recid) {
    $('#rec' + recid).attr('data-animationappear', 'off'); $('#rec' + recid).css('opacity', '1'); var el = $('#rec' + recid).find('.t-popup'), hook = el.attr('data-tooltip-hook'), analitics = el.attr('data-track-popup'); if (hook !== '') {
        var obj = $('a[href="' + hook + '"]'); obj.click(function (e) {
            t702_showPopup(recid); t702_resizePopup(recid); e.preventDefault(); if (window.lazy == 'y') { t_lazyload_update() }
            if (analitics > '') {
                var virtTitle = hook; if (virtTitle.substring(0, 7) == '#popup:') { virtTitle = virtTitle.substring(7) }
                Tilda.sendEventToStatistics(analitics, virtTitle)
            }
        })
    }
}
function t704_onSuccess(t704_form) {
    var t704_inputsWrapper = t704_form.find('.t-form__inputsbox'); var t704_inputsHeight = t704_inputsWrapper.height(); var t704_inputsOffset = t704_inputsWrapper.offset().top; var t704_inputsBottom = t704_inputsHeight + t704_inputsOffset; var t704_targetOffset = t704_form.find('.t-form__successbox').offset().top; if ($(window).width() > 960) { var t704_target = t704_targetOffset - 200 } else { var t704_target = t704_targetOffset - 100 }
    if (t704_targetOffset > $(window).scrollTop() || ($(document).height() - t704_inputsBottom) < ($(window).height() - 100)) { t704_inputsWrapper.addClass('t704__inputsbox_hidden'); setTimeout(function () { if ($(window).height() > $('.t-body').height()) { $('.t-tildalabel').animate({ opacity: 0 }, 50) } }, 300) } else { $('html, body').animate({ scrollTop: t704_target }, 400); setTimeout(function () { t704_inputsWrapper.addClass('t704__inputsbox_hidden') }, 400) }
    var successurl = t704_form.data('success-url'); if (successurl && successurl.length > 0) { setTimeout(function () { window.location.href = successurl }, 500) }
}
function t718_onSuccess(t718_form) {
    var t718_inputsWrapper = t718_form.find('.t-form__inputsbox'); var t718_inputsHeight = t718_inputsWrapper.height(); var t718_inputsOffset = t718_inputsWrapper.offset().top; var t718_inputsBottom = t718_inputsHeight + t718_inputsOffset; var t718_targetOffset = t718_form.find('.t-form__successbox').offset().top; if ($(window).width() > 960) { var t718_target = t718_targetOffset - 200 } else { var t718_target = t718_targetOffset - 100 }
    if (t718_targetOffset > $(window).scrollTop() || ($(document).height() - t718_inputsBottom) < ($(window).height() - 100)) { t718_inputsWrapper.addClass('t718__inputsbox_hidden'); setTimeout(function () { if ($(window).height() > $('.t-body').height()) { $('.t-tildalabel').animate({ opacity: 0 }, 50) } }, 300) } else { $('html, body').animate({ scrollTop: t718_target }, 400); setTimeout(function () { t718_inputsWrapper.addClass('t718__inputsbox_hidden') }, 400) }
    var successurl = t718_form.data('success-url'); if (successurl && successurl.length > 0) { setTimeout(function () { window.location.href = successurl }, 500) }
}
function t772_init(recid) { $('.t772__container_mobile-flex').bind('touchstart', function () { $('.t772__col').bind('touchmove', function () { if (typeof $(".t-records").attr('data-tilda-mode') == 'undefined') { if (window.lazy == 'y') { t_lazyload_update() } } }) }).mouseup(function () { $('.t772__col').unbind('touchend') }) }
function t774_init(recid) { t774_unifyHeights(recid); $(window).bind('resize', t_throttle(function () { t774_unifyHeights(recid) }, 200)); $(".t774").bind("displayChanged", function () { t774_unifyHeights(recid) }); $(window).load(function () { t774_unifyHeights(recid) }); setTimeout(function () { t774__updateLazyLoad(recid) }, 500) }
function t774__updateLazyLoad(recid) { var scrollContainer = $("#rec" + recid + " .t774__container_mobile-flex"); var curMode = $(".t-records").attr("data-tilda-mode"); if (scrollContainer.length && curMode != "edit" && curMode != "preview" && window.lazy === "y") { scrollContainer.bind('scroll', t_throttle(function () { t_lazyload_update() }, 500)) } }
function t774_unifyHeights(recid) {
    var t774_el = $('#rec' + recid), t774_blocksPerRow = t774_el.find(".t774__container").attr("data-blocks-per-row"), t774_cols = t774_el.find(".t774__content"), t774_mobScroll = t774_el.find(".t774__scroll-icon-wrapper").length; if ($(window).width() <= 480 && t774_mobScroll == 0) { t774_cols.css("height", "auto"); return }
    var t774_perRow = +t774_blocksPerRow; if ($(window).width() <= 960 && t774_mobScroll > 0) { var t774_perRow = t774_cols.length }
    else { if ($(window).width() <= 960) { var t774_perRow = 2 } }
    for (var i = 0; i < t774_cols.length; i += t774_perRow) { var t774_maxHeight = 0, t774_row = t774_cols.slice(i, i + t774_perRow); t774_row.each(function () { var t774_curText = $(this).find(".t774__textwrapper"), t774_curBtns = $(this).find(".t774__btn-wrapper, .t774__btntext-wrapper"), t774_itemHeight = t774_curText.outerHeight() + t774_curBtns.outerHeight(); if (t774_itemHeight > t774_maxHeight) { t774_maxHeight = t774_itemHeight } }); t774_row.css("height", t774_maxHeight) }
}
$btnpaysubmit = !1; $(document).ready(function () {
window.tildaGetPaymentForm = function (price, product, paysystem, blockid) {
    var $allrecords = $('#allrecords'); var formnexturl = 'htt' + 'ps://forms.tildacdn' + '.com/payment/next/'; var virtPage = '/tilda/' + blockid + '/payment/'; var virtTitle = 'Go to payment from ' + blockid; if (window.Tilda && typeof Tilda.sendEventToStatistics == 'function') { Tilda.sendEventToStatistics(virtPage, virtTitle, product, price) }
    $.ajax({
        type: "POST", url: formnexturl, data: { projectid: $allrecords.data('tilda-project-id'), formskey: $allrecords.data('tilda-formskey'), price: price, product: product, system: paysystem, recid: blockid }, dataType: "json", success: function (json) { $btnpaysubmit.removeClass('t-btn_sending'); tildaBtnPaySubmit = '0'; if (json && json.next && json.next.type > '') { var res = window.tildaForm.payment($('#' + blockid), json.next); successurl = ''; return !1 } }, fail: function (error) {
            var txt; $btnpaysubmit.removeClass('t-btn_sending'); tildaBtnPaySubmit = '0'; if (error && error.responseText > '') { txt = error.responseText + '. Please, try again later.' } else { if (error && error.statusText) { txt = 'Error [' + error.statusText + ']. Please, try again later.' } else { txt = 'Unknown error. Please, try again later.' } }
            alert(txt)
        }, timeout: 10 * 1000
    })
}; if (typeof tcart__cleanPrice == 'undefined') {
    function tcart__cleanPrice(price) {
        if (typeof price == 'undefined' || price == '' || price == 0) { price = 0 } else {
            price = price.replace(',', '.'); price = price.replace(/[^0-9\.]/g, ''); price = parseFloat(price).toFixed(2); if (isNaN(price)) { price = 0 }
            price = parseFloat(price); price = price * 1; if (price < 0) { price = 0 }
        }
        return price
    }
}
    if (typeof tcart__escapeHtml == 'undefined') { function tcart__escapeHtml(text) { var map = { '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' }; return text.replace(/[<>"']/g, function (m) { return map[m] }) } }
    if ($('.js-payment-systembox').length > 0) {
        var tildaBtnPaySubmit = '0'; $('a[href^="#order"]').off('dblclick'); $('a[href^="#order"]').off('click'); $('a[href^="#order"]').click(function (e) {
            e.preventDefault(); if (tildaBtnPaySubmit == '1') { return !1 }
            if ($('.t706').length > 0) { console.log('Conflict error: there are two incompatible blocks on the page: ST100 and ST105. Please go to Tilda Editor and delete one of these blocks.'); return !1 }
            $btnpaysubmit = $(this); $btnpaysubmit.addClass('t-btn_sending'); tildaBtnPaySubmit = '1'
            var tmp = $(this).attr('href'); var arParam, price = 0, product = ''; if (tmp.substring(0, 7) == '#order:') { tmp = tmp.split(':'); arParam = tmp[1].split('='); price = tcart__cleanPrice(arParam[1]); product = tcart__escapeHtml(arParam[0]) } else {
                var pel = $(this).closest('.js-product'); if (typeof pel != 'undefined') {
                    if (product == '') { product = pel.find('.js-product-name').text(); if (typeof product == 'undefined') { product = '' } }
                    if (price == '' || price == 0) { price = pel.find('.js-product-price').text(); price = tcart__cleanPrice(price) }
                    var optprice = 0; var options = []; pel.find('.js-product-option').each(function () {
                        var el_opt = $(this); var op_option = el_opt.find('.js-product-option-name').text(); var op_variant = el_opt.find('option:selected').val(); var op_price = el_opt.find('option:selected').attr('data-product-variant-price'); op_price = tcart__cleanPrice(op_price); if (typeof op_option != 'undefined' && typeof op_variant != 'undefined') {
                            var obj = {}; if (op_option != '') { op_option = tcart__escapeHtml(op_option) }
                            if (op_variant != '') { op_variant = tcart__escapeHtml(op_variant); op_variant = op_variant.replace(/(?:\r\n|\r|\n)/g, '') }
                            if (op_option.length > 1 && op_option.charAt(op_option.length - 1) == ':') { op_option = op_option.substring(0, op_option.length - 1) }
                            optprice = optprice + parseFloat(op_price); options.push(op_option + '=' + op_variant)
                        }
                    }); if (options.length > 0) { product = product + ': ' + options.join(', ') }
                }
            }
            var $parent = $(this).parent(); var blockid = $(this).closest('.r').attr('id'); var $paysystems = $('.js-dropdown-paysystem .js-payment-system'); if (!product) { var tmp = $(this).closest('.r').find('.title'); if (tmp.length > 0) { product = tmp.text() } else { product = $(this).text() } }
            if ($paysystems.length == 0) { alert('Error: payment system is not assigned. Add payment system in the Site Settings.'); $btnpaysubmit.removeClass('t-btn_sending'); tildaBtnPaySubmit = '0'; return !1 }
            if ($paysystems.length == 1) { tildaGetPaymentForm(price, product, $paysystems.data('payment-system'), blockid) } else { var $jspaybox = $('.js-payment-systembox'); if ($jspaybox.length > 0) { var $linkelem = $(this); var offset = $linkelem.offset(); $jspaybox.css('top', offset.top + 'px'); $jspaybox.css('left', offset.left + 'px'); $jspaybox.css('margin-top', '-45px'); $jspaybox.css('margin-left', '-25px'); $jspaybox.css('position', 'absolute'); $jspaybox.css('z-index', '9999999'); $jspaybox.appendTo($('body')); $(window).resize(function () { if ($jspaybox.css('display') == 'block' && $linkelem) { offset = $linkelem.offset(); $jspaybox.css('top', offset.top + 'px'); $jspaybox.css('left', offset.left + 'px') } }); $jspaybox.show(); $('.r').click(function () { $btnpaysubmit.removeClass('t-btn_sending'); tildaBtnPaySubmit = '0'; $jspaybox.hide(); $('.r').off('click'); return !1 }); $('.js-payment-systembox a').off('dblclick'); $('.js-payment-systembox a').off('click'); $('.js-payment-systembox a').click(function (e) { e.preventDefault(); $jspaybox.hide(); $linkelem = !1; tildaGetPaymentForm(price, product, $(this).data('payment-system'), blockid); return !1 }) } }
            return !1
        })
    }
}); function t794_init(recid) { var hook = $("#rec" + recid + " .t794").attr("data-tooltip-hook"); if (typeof hook == "undefined" || hook == "") { return }; var hookLinks = $("a[href='" + hook + "']"); hookLinks.addClass("t794__tm-link"); hookLinks.attr("data-tooltip-menu-id", recid); t794_addArrow(recid, hookLinks); t794_setUpMenu(recid, hookLinks); t794_highlight() }
function t794_setUpMenu(recid, hookLinks) {
    var submenu = $("#rec" + recid + " .t794__tooltip-menu"); if (isMobile) { t794_setUpMenu_mobile(recid, hookLinks, submenu) } else { t794_setUpMenu_desktop(recid, hookLinks, submenu) }
    $(window).bind('scroll', t_throttle(function () { if (submenu.hasClass("t794__tooltip-menu_show")) { t794_hideSubmenu(submenu) } }, 300)); $(".t794__tooltip-menu a[href*=#]").click(function () { t794_hideSubmenu(submenu); $('.t450, .t199__mmenu, .t280, .t282, .t204__burger, .t451, .t466').trigger('clickedAnchorInTooltipMenu'); $(".t794__tooltip-menu a[href*=#]").removeClass('t-active'); $(this).addClass('t-active') })
}
function t794_setUpMenu_mobile(recid, hookLinks, submenu) {
    var vIndent = $("#rec" + recid + " .t794").attr('data-tooltip-margin'); hookLinks.on("click", function (e) {
        if (submenu.hasClass("t794__tooltip-menu_show")) { t794_hideSubmenu(submenu) } else { var curAnchor = $(this); t794_showSubmenu(curAnchor, submenu, vIndent) }
        e.preventDefault()
    }); $(document).click(function (e) {
        var isInsideSubmenu = ($(e.target).hasClass("t794__tooltip-menu") || $(e.target).parents(".t794__tooltip-menu").length > 0); var isAnchor = ($(e.target).hasClass("t794__tm-link") || $(e.target).parents(".t794__tm-link").length > 0); if (isAnchor) {
            var curAnchor; if ($(e.target).hasClass("t794__tm-link")) { curAnchor = $(e.target) } else { curAnchor = $(e.target).parents(".t794__tm-link") }
            if (curAnchor.attr("data-tooltip-menu-id") != recid && submenu.hasClass("t794__tooltip-menu_show")) { t794_hideSubmenu(submenu) }
        }
        if (!isInsideSubmenu && !isAnchor && submenu.hasClass("t794__tooltip-menu_show")) { t794_hideSubmenu(submenu) }
    })
}
function t794_setUpMenu_desktop(recid, hookLinks, submenu) {
    var vIndent = $("#rec" + recid + " .t794").attr('data-tooltip-margin'); var timer; hookLinks.add(submenu).on("mouseover", function () {
        if ($(this).hasClass("t794__tooltip-menu") && !$(this).hasClass("t794__tooltip-menu_show")) { return }
        clearTimeout(timer); if ($(this).hasClass("t794__tooltip-menu") && submenu.hasClass("t794__tooltip-menu_show")) { return }
        var curAnchor = $(this); t794_showSubmenu(curAnchor, submenu, vIndent)
    }); hookLinks.add(submenu).on("mouseout", function () { timer = setTimeout(function () { t794_hideSubmenu(submenu) }, 300) }); hookLinks.on("click", function (e) { e.preventDefault() })
}
function t794_showSubmenu(curAnchor, submenu, vIndent) {
    var submenuHeight = submenu.outerHeight(); var submenuWidth = submenu.outerWidth(); var anchorHeight = curAnchor.height(); var anchorWidth = curAnchor.width(); if (curAnchor.hasClass('t-btn')) { anchorWidth = curAnchor.outerWidth() }
    var winHeight = $(window).height(); var winWidth = $(window).width(); var scrollTop = $(window).scrollTop(); var anchorLeft = curAnchor.offset().left; if (typeof vIndent != "undefined" && vIndent != "") { vIndent = vIndent.replace("px", "") * 1; vIndent = vIndent + 10 }
    var posy = curAnchor.offset().top + anchorHeight + vIndent; var posx = anchorLeft; if (posy + submenuHeight > scrollTop + winHeight) { posy = Math.max(posy - submenuHeight - anchorHeight - vIndent * 2, scrollTop); submenu.removeClass("t794__tooltip-menu_bottom").addClass("t794__tooltip-menu_top") } else { submenu.removeClass("t794__tooltip-menu_top").addClass("t794__tooltip-menu_bottom") }
    if (posx + submenuWidth / 2 < winWidth) { posx = posx + (anchorWidth - submenuWidth) / 2; if (posx < 0) { posx = 10 } } else { posx = winWidth - submenuWidth - 10 }
    submenu.css({ "display": "block", "left": posx, "top": posy }); submenu[0].offsetHeight; submenu.addClass("t794__tooltip-menu_show"); curAnchor.addClass("t794__tm-link_active")
}
function t794_hideSubmenu(submenu) { submenu.css({ "display": "", "left": "", "top": "" }); submenu.removeClass("t794__tooltip-menu_show"); $(".t794__tm-link_active").removeClass("t794__tm-link_active") }
function t794_addArrow(recid, hookLinks) { var arrow = $("#rec" + recid + " .t794").attr('data-add-arrow'); if (typeof arrow == "undefined" || arrow == "") { return }; hookLinks.each(function () { var arrowHeight = $(this).height(); $(this).append("<div class=\"t794__arrow\" style=\"height: " + arrowHeight + "px;\"></div>") }) }
function t794_highlight() {
    var url = window.location.href; var pathname = window.location.pathname; var hash = window.location.hash; if (url.substr(url.length - 1) == "/") { url = url.slice(0, -1) }
    if (pathname.substr(pathname.length - 1) == "/") { pathname = pathname.slice(0, -1) }
    if (pathname.charAt(0) == "/") { pathname = pathname.slice(1) }
    if (pathname == "") { pathname = "/" }
    $(".t794__list_item a[href='" + url + "']").addClass("t-active"); $(".t794__list_item a[href='" + url + "/']").addClass("t-active"); $(".t794__list_item a[href='" + pathname + "']").addClass("t-active"); $(".t794__list_item a[href='/" + pathname + "']").addClass("t-active"); $(".t794__list_item a[href='" + pathname + "/']").addClass("t-active"); $(".t794__list_item a[href='/" + pathname + "/']").addClass("t-active"); if (hash) { $(".t794__list_item a[href='" + hash + "']").addClass("t-active") }
}
function t814_init(recid) {
    t814_setHeight(recid); $(window).bind('resize', t_throttle(function () {
        if (typeof window.noAdaptive != "undefined" && window.noAdaptive == !0 && $isMobile) { return }
        t814_setHeight(recid)
    }, 200)); $('.t814').bind('displayChanged', function () { t814_setHeight(recid) })
}
function t814_setHeight(rec) {
    el = $('#rec' + rec)
    var imgWrapperHeight = el.find(".t814__blockimg").height(); var blockTextWrapper = el.find(".t814__blocktext-wrapper"); var textWrapper = el.find(".t814__blocktext"); if ($(window).width() > 960) { textWrapper.css('height', imgWrapperHeight); blockTextWrapper.css('height', textWrapper.outerHeight(!0)) } else { blockTextWrapper.css('height', 'auto') }
}
function t817_init(recid) {
    var rec = $('#rec' + recid); var curMode = $('.t-records').attr('data-tilda-mode'); var tab = rec.find('.t817__tab'); var select = rec.find('.t817__select'); var content = rec.find('.t817__content'); if (curMode != 'edit' && curMode != 'preview') { t817_scrollToTabs(recid) }
    t817_showTabByUrl(recid, tab, content, select); t817_showTab(tab, content, recid); t817_showTabMobile(select, content, recid)
}
function t817_showTab(tab, content, recid) {
    var tabNumber; var curUrl = window.location.href; var curMode = $('.t-records').attr('data-tilda-mode'); tab.on('click', function (e) {
        tabNumber = $(this).attr('data-tab-number'); tab.removeClass('t817__tab_active'); content.removeClass('t817__content_active'); $(this).addClass('t817__tab_active'); t817_removeUrl(); content.each(function (i) { if ($(content[i]).attr('data-tab-content-number') == tabNumber) { $(content[i]).addClass('t817__content_active') } }); if (curMode != 'edit' && curMode != 'preview') { if (typeof history.replaceState != 'undefined') { window.history.replaceState('', '', window.location.href + '#!/tab/' + recid + '-' + tabNumber) } }
        if (typeof $('.t-records').attr('data-tilda-mode') == 'undefined') { if (window.lazy == 'y') { t_lazyload_update() } }
        e.preventDefault()
    })
}
function t817_showTabMobile(select, content, recid) {
    var tabNumberMobile; var curUrl = window.location.href; var curMode = $('.t-records').attr('data-tilda-mode'); select.change(function (e) {
        tabNumberMobile = $(this).val(); content.removeClass('t817__content_active'); t817_removeUrl(); content.each(function (i) { if ($(content[i]).attr('data-tab-content-number') == tabNumberMobile) { $(content[i]).addClass('t817__content_active') } }); if (curMode != 'edit' && curMode != 'preview') { if (typeof history.replaceState != 'undefined') { window.history.replaceState('', '', window.location.href + '#!/tab/' + recid + '-' + tabNumberMobile) } }
        if (typeof $('.t-records').attr('data-tilda-mode') == 'undefined') { if (window.lazy == 'y') { t_lazyload_update() } }
        e.preventDefault()
    })
}
function t817_showTabByUrl(recid, tab, content, select) { var curUrl = window.location.href; var tabIndexNumber = curUrl.indexOf(recid + '-'); var tabIndex = curUrl.substring(tabIndexNumber + recid.length + 1); if (tabIndexNumber != -1) { tab.each(function (i) { if ($(tab[i]).attr('data-tab-number') == tabIndex) { $(tab[i]).addClass('t817__tab_active') } }); content.each(function (i) { if ($(content[i]).attr('data-tab-content-number') == tabIndex) { $(content[i]).addClass('t817__content_active') } }); select.val(tabIndex) } else { tab.first().addClass('t817__tab_active'); content.first().addClass('t817__content_active') } }
function t817_scrollToTabs(recid) {
    var curUrl = window.location.href; var tabIndexNumber = curUrl.indexOf('#!/tab/'); var tabIndexNumberStart = curUrl.indexOf('tab/'); if (tabIndexNumber != -1) {
        var tabRec = curUrl.substring(tabIndexNumberStart + 4, tabIndexNumberStart + 4 + recid.length)
        if (+tabRec == +recid) {
            var tabBlock = $('#rec' + tabRec).find('.t817'); var targetOffset = tabBlock.offset().top; if ($(window).width() > 960) { var target = targetOffset - 200 } else { var target = targetOffset - 100 }
            $('html, body').animate({ scrollTop: target }, 400)
        }
    }
}
function t817_removeUrl() {
    var curUrl = window.location.href; var indexToRemove = curUrl.indexOf('#!/tab/'); if (/iPhone|iPad|iPod/i.test(navigator.userAgent) && indexToRemove < 0) { indexToRemove = curUrl.indexOf('%23!/tab/') }
    curUrl = curUrl.substring(0, indexToRemove); if (indexToRemove != -1) { if (typeof history.replaceState != 'undefined') { window.history.replaceState('', '', curUrl) } }
}
function t822_init(recid) {
    t822_setHeight(recid); $(window).load(function () { t822_setHeight(recid) }); $(window).bind('resize', t_throttle(function () {
        if (typeof window.noAdaptive != "undefined" && window.noAdaptive == !0 && $isMobile) { return }
        t822_setHeight(recid)
    }, 200)); $('.t822').bind('displayChanged', function () { t822_setHeight(recid) })
}
function t822_setHeight(recid) { $('#rec' + recid + ' .t822 .t-container').each(function () { var t822__highestBox = 0; $('.t822__col', this).each(function () { var t822__curcol = $(this); var t822__curcolchild = t822__curcol.find('.t822__col-wrapper'); if (t822__curcol.height() < t822__curcolchild.height()) t822__curcol.height(t822__curcolchild.height()); if (t822__curcol.height() > t822__highestBox) t822__highestBox = t822__curcol.height() }); if ($(window).width() >= 960) { $('.t822__col', this).css('height', t822__highestBox) } else { $('.t822__col', this).css('height', "auto") } }) }; function t823_onSuccess(form) {
    var inputsWrapper = form.find('.t-form__inputsbox'); var inputsHeight = inputsWrapper.height(); var inputsOffset = inputsWrapper.offset().top; var inputsBottom = inputsHeight + inputsOffset; var targetOffset = form.find('.t-form__successbox').offset().top; if ($(window).width() > 960) { var target = targetOffset - 200 } else { var target = targetOffset - 100 }
    if (targetOffset > $(window).scrollTop() || ($(document).height() - inputsBottom) < ($(window).height() - 100)) { inputsWrapper.addClass('t823__inputsbox_hidden'); setTimeout(function () { if ($(window).height() > $('.t-body').height()) { $('.t-tildalabel').animate({ opacity: 0 }, 50) } }, 300) } else { $('html, body').animate({ scrollTop: target }, 400); setTimeout(function () { inputsWrapper.addClass('t823__inputsbox_hidden') }, 400) }
    var successurl = form.data('success-url'); if (successurl && successurl.length > 0) { setTimeout(function () { window.location.href = successurl }, 500) }
}
function t843_init(recid) {
    var rec = $('#rec' + recid); var container = rec.find('.t843'); t843_setHeight(rec); $(window).bind('resize', t_throttle(function () {
        if (typeof window.noAdaptive != "undefined" && window.noAdaptive == !0 && $isMobile) { return }
        t843_setHeight(rec)
    }, 200)); $('.t843').bind('displayChanged', function () { t843_setHeight(rec) }); if (container.hasClass('t843__previewmode')) { setInterval(function () { t843_setHeight(rec) }, 5000) }
}
function t843_setHeight(rec) { var image = rec.find('.t843__blockimg'); image.each(function () { var width = $(this).attr('data-image-width'); var height = $(this).attr('data-image-height'); var ratio = height / width; var padding = ratio * 100; $(this).css('padding-bottom', padding + '%') }); if ($(window).width() > 960) { var textwr = rec.find('.t843__textwrapper'); var deskimg = rec.find('.t843__desktopimg'); textwr.each(function (i) { $(this).css('height', $(deskimg[i]).innerHeight()) }) } }
function t851_init(recid) { var rec = $('#rec' + recid + ' .t851'); var doResize; setTimeout(function () { t851_setHeight(rec); t851_updateLazyLoad(recid) }, 500); $(window).resize(function () { clearTimeout(doResize); doResize = setTimeout(function () { t851_setHeight(rec) }, 200) }); $('.t851').bind('displayChanged', function () { t851_setHeight(rec) }); if (rec.hasClass('t851__previewmode')) { setInterval(function () { t851_setHeight(rec) }, 5000) } }
function t851_setHeight(rec) {
    var startHeight = rec.find('.t851__table').css('height'); var col = rec.find('.t851__col'); var ratio = rec.attr('data-tile-ratio'); var ratioHeight = rec.find('.t851__col').width() * ratio; var blocksPerRow = rec.find('.t851__container').attr('data-blocks-per-row'); var isOneRowOnMobile = rec.find('.t851__container').hasClass('t851__container_mobile-flex'); if (typeof blocksPerRow != 'undefined') {
        blocksPerRow = +blocksPerRow; if ($(window).width() <= 960) { if (isOneRowOnMobile) { blocksPerRow = col.length } else { blocksPerRow = 2 } }
        for (var i = 0; i < col.length; i += blocksPerRow) {
            var row = col.slice(i, i + blocksPerRow); var table = row.find('.t851__table'); var largestHeight = 0; row.each(function () { var curText = $(this).find('.t851__textwrapper'); var itemHeight = curText.outerHeight(); if (itemHeight > largestHeight) { largestHeight = itemHeight } }); if ($(window).width() > 480 || ($(window).width() <= 960 && isOneRowOnMobile)) {
                if (largestHeight > ratioHeight) { table.css('height', largestHeight) } else { table.css('height', ratioHeight) }
                table.css('min-height', 'auto')
            } else { table.css('min-height', startHeight); table.css('height', '') }
        }
    }
}
function t851_GetIEVersion() { var sAgent = window.navigator.userAgent; var Idx = sAgent.indexOf("MSIE"); if (Idx > 0) { return parseInt(sAgent.substring(Idx + 5, sAgent.indexOf(".", Idx))) } else { if (!!navigator.userAgent.match(/Trident\/7\./)) { return 11 } else { return 0 } } }
function t851_updateLazyLoad(recid) { var scrollContainer = $("#rec" + recid + " .t851__container_mobile-flex"); var curMode = $(".t-records").attr("data-tilda-mode"); if (scrollContainer.length && curMode != "edit" && curMode != "preview") { scrollContainer.bind('scroll', t_throttle(function () { t_lazyload_update() }, 500)) } }
function t852_init(recid) { setTimeout(function () { t852_updateLazyLoad(recid) }, 500) }
function t852_updateLazyLoad(recid) { var scrollContainer = $("#rec" + recid + " .t852__container_mobile-flex"); var curMode = $(".t-records").attr("data-tilda-mode"); if (scrollContainer.length && curMode != "edit" && curMode != "preview") { scrollContainer.bind('scroll', t_throttle(function () { t_lazyload_update() }, 500)) } }
function t857__init(recid) { $('.t857__container_mobile-flex').bind('touchstart', function () { $('.t857__col').bind('touchmove', function () { if (typeof $(".t-records").attr('data-tilda-mode') == 'undefined') { if (window.lazy == 'y') { t_lazyload_update() } } }) }).mouseup(function () { $('.t857__col').unbind('touchend') }) }
function t858_init(recid) { var rec = $('#rec' + recid); var container = rec.find('.t858'); var doResize; t858_unifyHeights(rec); $(window).resize(function () { clearTimeout(doResize); doResize = setTimeout(function () { t858_unifyHeights(rec) }, 200) }); $(window).load(function () { t858_unifyHeights(rec) }); $('.t858').bind('displayChanged', function () { t858_unifyHeights(rec) }); if (container.hasClass('t858__previewmode')) { setInterval(function () { t858_unifyHeights(rec) }, 5000) } }
function t858_unifyHeights(rec) { if ($(window).width() >= 960) { rec.find('.t858 .t-container .t858__row').each(function () { var highestBox = 0; var currow = $(this); $('.t858__inner-col', this).each(function () { var curCol = $(this); var curWrap = curCol.find('.t858__wrap'); var curColHeight = curWrap.outerHeight(); if (curColHeight > highestBox) { highestBox = curColHeight } }); $('.t858__inner-col', this).css('height', highestBox) }) } else { $('.t858__inner-col').css('height', 'auto') } }
function t868_setHeight(recid) { var rec = $('#rec' + recid); var div = rec.find('.t868__video-carier'); var height = div.width() * 0.5625; div.height(height); div.parent().height(height) }
function t868_initPopup(recid) {
    var rec = $('#rec' + recid); $('#rec' + recid).attr('data-animationappear', 'off'); $('#rec' + recid).css('opacity', '1'); var el = $('#rec' + recid).find('.t-popup'); var hook = el.attr('data-tooltip-hook'); var analitics = el.attr('data-track-popup'); var customCodeHTML = t868__readCustomCode(rec); if (hook !== '') {
        var obj = $('a[href="' + hook + '"]'); obj.click(function (e) {
            t868_showPopup(recid, customCodeHTML); t868_resizePopup(recid); e.preventDefault(); if (analitics > '') {
                var virtTitle = hook; if (virtTitle.substring(0, 7) == '#popup:') { virtTitle = virtTitle.substring(7) }
                Tilda.sendEventToStatistics(analitics, virtTitle)
            }
        })
    }
}
function t868__readCustomCode(rec) { var customCode = rec.find('.t868 .t868__code-wrap').html(); rec.find('.t868 .t868__code-wrap').remove(); return customCode }
function t868_showPopup(recid, customCodeHTML) {
    var rec = $('#rec' + recid); var popup = rec.find('.t-popup'); var popupContainer = rec.find('.t-popup__container'); popupContainer.append(customCodeHTML); popup.css('display', 'block'); t868_setHeight(recid); setTimeout(function () { popup.find('.t-popup__container').addClass('t-popup__container-animated'); popup.addClass('t-popup_show') }, 50); $('body').addClass('t-body_popupshowed'); rec.find('.t-popup').mousedown(function (e) { if (e.target == this) { t868_closePopup(recid) } }); rec.find('.t-popup__close').click(function (e) { t868_closePopup(recid) }); rec.find('a[href*=#]').click(function (e) {
        var url = $(this).attr('href'); if (url.indexOf('#order') != -1) { var popupContainer = rec.find('.t-popup__container'); setTimeout(function () { popupContainer.empty() }, 600) }
        if (!url || url.substring(0, 7) != '#price:') { t868_closePopup(); if (!url || url.substring(0, 7) == '#popup:') { setTimeout(function () { $('body').addClass('t-body_popupshowed') }, 300) } }
    }); $(document).keydown(function (e) { if (e.keyCode == 27) { t868_closePopup(recid) } })
}
function t868_closePopup(recid) { var rec = $('#rec' + recid); var popup = rec.find('.t-popup'); var popupContainer = rec.find('.t-popup__container'); $('body').removeClass('t-body_popupshowed'); $('.t-popup').removeClass('t-popup_show'); popupContainer.empty(); setTimeout(function () { $('.t-popup').not('.t-popup_show').css('display', 'none') }, 300) }
function t868_resizePopup(recid) { var rec = $('#rec' + recid); var div = rec.find('.t-popup__container').height(); var win = $(window).height(); var popup = rec.find('.t-popup__container'); if (div > win) { popup.addClass('t-popup__container-static') } else { popup.removeClass('t-popup__container-static') } }
function t868_sendPopupEventToStatistics(popupname) {
    var virtPage = '/tilda/popup/'; var virtTitle = 'Popup: '; if (popupname.substring(0, 7) == '#popup:') { popupname = popupname.substring(7) }
    virtPage += popupname; virtTitle += popupname; if (ga) { if (window.mainTracker != 'tilda') { ga('send', { 'hitType': 'pageview', 'page': virtPage, 'title': virtTitle }) } }
    if (window.mainMetrika > '' && window[window.mainMetrika]) { window[window.mainMetrika].hit(virtPage, { title: virtTitle, referer: window.location.href }) }
}